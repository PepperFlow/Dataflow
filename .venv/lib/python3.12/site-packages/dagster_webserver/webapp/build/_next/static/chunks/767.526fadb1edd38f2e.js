(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[767],{8662:e=>{e.exports={sectionHeader:"ComponentDetails_sectionHeader__9tkjB"}},11988:e=>{e.exports={tag:"ArrayTag_tag__1xQK0"}},12798:e=>{e.exports={container:"ComponentExample_container__yHiZF",code:"ComponentExample_code__kXo4_",buttonContainer:"ComponentExample_buttonContainer__HtWoM"}},13872:e=>{e.exports={container:"ListView_container__yJUD8",emptyState:"ListView_emptyState__XHDyO",componentItem:"ListView_componentItem__ziM5P"}},14114:e=>{e.exports={container:"ComponentScaffolding_container__OrcqX",commandContainer:"ComponentScaffolding_commandContainer__VX0gJ",buttonContainer:"ComponentScaffolding_buttonContainer__2dRGl"}},17229:e=>{e.exports={container:"ComponentHeader_container__JKqkl",heading:"ComponentHeader_heading__JBvO1",icon:"ComponentHeader_icon___9SeD",headingContent:"ComponentHeader_headingContent__GRXA_",description:"ComponentHeader_description__ciNaM"}},20767:(e,n,t)=>{"use strict";t.r(n),t.d(n,{WorkspaceRoot:()=>ou,default:()=>oh});var r=t(6029),i=t(69807),o=t(12547),s=t(62978),a=t(54314),l=t(55729),c=t(3102),d=t(9329),p=t(71802),u=t(67221),h=t(30424),m=t(98784),x=t(91374),j=t(10570),g=t(20881),f=t(69356),y=t(36482),v=t(61252),S=t(29500),_=t(19805),b=t(1536);function C(){let e=(0,d._)(["\n  query GraphExplorerRootQuery(\n    $graphSelector: GraphSelector\n    $rootHandleID: String!\n    $requestScopeHandleID: String\n  ) {\n    graphOrError(selector: $graphSelector) {\n      ... on Graph {\n        id\n        name\n        solidHandle(handleID: $rootHandleID) {\n          ...GraphExplorerSolidHandleFragment\n        }\n        solidHandles(parentHandleID: $requestScopeHandleID) {\n          handleID\n          solid {\n            name\n          }\n          ...GraphExplorerSolidHandleFragment\n        }\n        ...GraphExplorerFragment\n      }\n      ... on GraphNotFoundError {\n        message\n      }\n      ...PythonErrorFragment\n    }\n  }\n\n  ","\n  ","\n  ","\n"]);return C=function(){return e},e}let N=e=>{(0,j.b7)();let{repoAddress:n}=e,t=(0,c.g)(),o=(0,S.iI)(t[0]),s=o.opNames.length>1?o.opNames[o.opNames.length-2]:o.pipelineName;return(0,g.r)("Graph: ".concat(s)),(0,r.jsxs)("div",{style:{height:"100%",display:"flex",flexDirection:"column"},children:[(0,r.jsx)(p.z,{title:(0,r.jsx)(u.M7,{children:s}),tags:(0,r.jsxs)(h.v,{icon:"schema",children:["Graph in ",(0,r.jsx)(f.p,{repoAddress:n})]})}),(0,r.jsx)(i.a,{border:"top",style:{minHeight:0,flex:1,display:"flex"},children:(0,r.jsx)(k,{repoAddress:n})})]})},k=e=>{let{repoAddress:n}=e,t=(0,c.g)(),i=(0,S.iI)(t["0"]),s=(0,c.W6)(),[a,d]=(0,l.useState)({explodeComposites:!1,preferAssetRendering:!0}),p=i.opNames.slice(0,i.opNames.length-1),u=(0,m.IT)(w,{variables:{graphSelector:{repositoryName:(null==n?void 0:n.name)||"",repositoryLocationName:(null==n?void 0:n.location)||"",graphName:i.pipelineName},rootHandleID:p.join("."),requestScopeHandleID:a.explodeComposites?void 0:p.join(".")}});return(0,r.jsx)(_.R,{queryResult:u,children:t=>{let{graphOrError:l}=t;if("GraphNotFoundError"===l.__typename)return(0,r.jsx)(o.I,{icon:"error",title:"Graph not found",description:l.message});if("PythonError"===l.__typename)return(0,r.jsx)(o.I,{icon:"error",title:"Query Error",description:l.message});let c=l.solidHandle,p=a.explodeComposites?(0,y.$)(l.solidHandles):l.solidHandles;return(0,r.jsx)(v.Uh,{options:a,setOptions:d,explorerPath:i,onChangeExplorerPath:(n,t)=>{let r=(0,b.HG)(e.repoAddress,"/graphs/".concat((0,S.ZG)(n)));"push"===t?s.push(r):s.replace(r)},container:l,repoAddress:n,handles:p,parentHandle:c||void 0,isGraph:!0,getInvocations:e=>p.filter(n=>n.solid.definition.name===e).map(e=>({handleID:e.handleID}))})}})},w=(0,m.J1)(C(),v.zO,v.G4,x.z);var E=t(98896),I=t(94543),A=t(58641),P=t(92101),T=t(13365),R=t(21316),L=t(78337),O=t(19769),F=t(43052),D=t(27589),M=t(38584),$=t(11441);let H=()=>{let{paused:e}=(0,$.Aw)();return(0,r.jsx)(D.m,{content:e?"Automation condition evaluation is paused. New materializations will not be triggered by automation conditions.":"",canShow:e,children:(0,r.jsx)(M.N_,{to:"/health",style:{outline:"none"},children:(0,r.jsx)(h.v,{icon:e?"toggle_off":"toggle_on",intent:e?"warning":"success",children:e?"Auto-materialize off":"Auto-materialize on"})})})};var z=t(69849),G=t(76651),J=t(54423),q=t(91756),B=t(48780),V=t(37172);function K(){let e=(0,d._)(["\n  query AssetGroupMetadataQuery($selector: AssetGroupSelector!) {\n    assetNodes(group: $selector) {\n      id\n      automationCondition {\n        __typename\n      }\n    }\n  }\n"]);return K=function(){return e},e}let U=e=>{let{repoAddress:n,tab:t}=e;(0,j.b7)();let{groupName:o,0:s}=(0,c.g)(),a=(0,c.W6)();(0,g.r)("Asset Group: ".concat(o));let d=(0,q.e)(),h=(0,b.HG)(n,"/asset-groups/".concat(o)),m=(0,l.useMemo)(()=>({groupName:o,repositoryLocationName:n.location,repositoryName:n.name}),[o,n]),x=(0,l.useCallback)((e,n)=>{a[n]({pathname:"".concat(h,"/").concat((0,S.ZG)(e)),search:a.location.search})},[h,a]),f=(0,l.useCallback)((e,n)=>{let t;t=n.groupName&&n.repoAddress?(0,b.HG)(n.repoAddress,"/asset-groups/".concat(n.groupName,"/lineage/").concat(n.assetKey.path.map(encodeURIComponent).join("/"))):(0,z.Q)(n.assetKey,{view:"definition"}),e.metaKey?d(t):a.push(t)},[a,d]),y=l.useMemo(()=>({groupSelector:m,loading:!1}),[m]),v=l.useMemo(()=>({preferAssetRendering:!0,explodeComposites:!0}),[]);return(0,r.jsxs)(T.Y,{style:{display:"flex",flexDirection:"column",paddingBottom:0},children:[(0,r.jsx)(p.z,{title:(0,r.jsx)(u.M7,{children:o}),right:(0,r.jsx)(V.H,{label:"Reload definitions"}),tags:(0,r.jsx)(W,{groupSelector:m,repoAddress:n}),tabs:(0,r.jsxs)(i.a,{flex:{direction:"row",justifyContent:"space-between",alignItems:"center"},margin:{right:4},children:[(0,r.jsxs)(R.tU,{selectedTabId:t,children:[(0,r.jsx)(B.s,{id:"lineage",title:"Lineage",to:"".concat(h,"/lineage")}),(0,r.jsx)(B.s,{id:"list",title:"List",to:"".concat(h,"/list")})]}),(0,r.jsx)(L.nD,{})]})}),"lineage"===t?(0,r.jsx)(G.uj,{fetchOptions:y,options:v,explorerPath:(0,S.iI)(s||"lineage/"),onChangeExplorerPath:x,onNavigateToSourceAssetNode:f,viewType:J.kh.GROUP}):(0,r.jsx)(O.jt,{groupSelector:m,prefixPath:s.split("/").map(decodeURIComponent).filter(Boolean),setPrefixPath:e=>a.push("".concat(h,"/list/").concat(e.map(encodeURIComponent).join("/")))})]})},Q=(0,m.J1)(K()),W=e=>{let{repoAddress:n,groupSelector:t}=e,i=(0,F.I)(),{data:o}=(0,m.IT)(Q,{variables:{selector:t}});return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsxs)(h.v,{icon:"asset_group",children:["Asset Group in ",(0,r.jsx)(f.p,{repoAddress:n})]}),(()=>{let e=null==o?void 0:o.assetNodes;return e&&0!==e.length&&"has-global-amp"===i&&e.some(e=>!!e.automationCondition)?(0,r.jsx)(H,{}):null})()]})};var Z=t(9448);let Y=e=>{let{repoAddress:n}=e;return(0,r.jsx)(u.M7,{children:(0,r.jsxs)(i.a,{flex:{direction:"row",gap:8,alignItems:"center"},children:[(0,r.jsx)("div",{children:(0,r.jsx)(M.N_,{to:"/deployment/locations",children:"Code locations"})}),(0,r.jsx)("div",{children:"/"}),(0,r.jsx)("div",{children:(0,I.FC)(n)})]})})};var X=t(25151),ee=t(94462);let en=e=>{let{repoAddress:n}=e,{locationEntries:t,loadingNonAssets:i}=(0,l.useContext)(E.zp),o=t.find(e=>e.name===n.location);return(0,r.jsx)(p.z,{title:(0,r.jsx)(Y,{repoAddress:n}),right:i||!o?null:(0,r.jsxs)(Z.dQ,{children:[(0,r.jsx)(ee.OG,{location:n.location}),(0,r.jsx)(X.Mz,{locationNode:o})]})})};function et(){let e=(0,d._)(["\n  query CodeLocationHasDocsQuery($repositorySelector: RepositorySelector!) {\n    repositoryOrError(repositorySelector: $repositorySelector) {\n      ... on Repository {\n        id\n        hasLocationDocs\n      }\n    }\n  }\n"]);return et=function(){return e},e}let er=(0,m.J1)(et());var ei=t(40308);let eo=e=>{let{repoAddress:n,selectedTab:t,locationEntry:o}=e,{data:s}=(0,m.IT)(er,{variables:{repositorySelector:(0,ei.n)(n)},fetchPolicy:"cache-first"}),a=(0,l.useMemo)(()=>(null==s?void 0:s.repositoryOrError.__typename)==="Repository"&&s.repositoryOrError.hasLocationDocs,[s]),c=(0,l.useMemo)(()=>((e,n)=>{var t;return(null==e?void 0:e.__typename)!=="WorkspaceLocationEntry"||(null==(t=e.locationOrLoadError)?void 0:t.__typename)!=="RepositoryLocation"?null:e.locationOrLoadError.repositories.find(e=>e.name===n.name)||null})(o,n),[o,n]);return(0,r.jsxs)(R.tU,{selectedTabId:t,children:[(0,r.jsx)(B.s,{id:"overview",title:"Overview",to:(0,b.HG)(n,"/")}),a?(0,r.jsx)(B.s,{id:"docs",title:(0,r.jsxs)(i.a,{flex:{direction:"row",alignItems:"center",gap:4},children:[(0,r.jsx)("span",{children:"Docs"}),(0,r.jsx)(h.v,{children:(0,r.jsx)("span",{style:{fontWeight:"normal"},children:"Beta"})})]}),to:(0,b.HG)(n,"/docs")}):null,c?(0,r.jsx)(B.s,{id:"definitions",title:"Definitions",to:(0,b.HG)(n,"/definitions")}):(0,r.jsx)(R.oz,{id:"definitions",title:"Definitions",disabled:!0})]})};var es=t(46371),ea=t(36660),el=t(38954),ec=t(21440),ed=t(41735),ep=t(24372),eu=t(23298);let eh=e=>{let{items:n,placeholder:t,nameFilter:s,renderRow:a}=e,[c,d]=(0,l.useState)(""),p=(0,l.useCallback)(e=>{d(e.target.value)},[]),u=c.trim().toLowerCase(),h=n.filter(e=>s(e,u)),m=(0,l.useRef)(null),x=(0,ec.Te)({count:h.length,getScrollElement:()=>m.current,estimateSize:()=>44,overscan:10}),j=x.getTotalSize(),g=x.getVirtualItems();return(0,r.jsxs)(i.a,{flex:{direction:"column"},style:{overflow:"hidden"},children:[(0,r.jsx)(i.a,{padding:{vertical:8,horizontal:24},children:(0,r.jsx)(es.ks,{value:c,onChange:p,placeholder:t,style:{width:"300px"},icon:"search"})}),(0,r.jsx)("div",{style:{flex:1,overflow:"hidden"},children:(0,r.jsxs)(eu.mc,{ref:m,children:[(0,r.jsx)(eu.Sy,{templateColumns:"1fr",sticky:!0,children:(0,r.jsx)(eu.A3,{children:"Name"})}),g.length>0?(0,r.jsx)(eu.Rp,{$totalHeight:j,children:g.map(e=>{let{index:n,key:t,size:i,start:o}=e,s=h[n];return(0,r.jsx)(eu.fI,{$height:i,$start:o,children:a(s)},t)})}):(0,r.jsx)(i.a,{flex:{direction:"row",justifyContent:"center"},padding:{top:32},children:(0,r.jsx)(o.I,{icon:"search",title:"No matching results",description:(0,r.jsxs)(r.Fragment,{children:["No matching results for query ",(0,r.jsx)("strong",{children:c})," found in this code location."]})})})]})})]})},em=e=>{let{iconName:n,label:t,path:o}=e;return(0,r.jsx)(i.a,{padding:{horizontal:24},border:"bottom",flex:{direction:"column",justifyContent:"center",alignItems:"flex-start"},style:{height:44,overflow:"hidden"},children:(0,r.jsx)(ex,{to:o,style:{width:"100%",overflow:"hidden"},children:(0,r.jsxs)(i.a,{flex:{direction:"row",gap:8,alignItems:"center"},children:[(0,r.jsx)(el.In,{name:n,color:ea.Hv()}),(0,r.jsx)("div",{style:{flex:1,overflow:"hidden"},children:(0,r.jsx)(ep.A,{text:t})})]})})})},ex=(0,ed.Ay)(M.N_).withConfig({componentId:"sc-fce1d102-0"})([":active,:focus{outline:none;}"]);var ej=t(59553);function eg(){let e=(0,d._)(["\n  fragment RepoAssetTableFragment on AssetNode {\n    id\n    assetKey {\n      path\n    }\n    groupName\n    ...AssetTableDefinitionFragment\n  }\n\n  ","\n"]);return eg=function(){return e},e}function ef(){let e=(0,d._)(["\n  query WorkspaceAssetsQuery($selector: RepositorySelector!) {\n    repositoryOrError(repositorySelector: $selector) {\n      ... on Repository {\n        id\n        name\n        assetNodes {\n          id\n          ...RepoAssetTableFragment\n        }\n      }\n      ...PythonErrorFragment\n    }\n  }\n\n  ","\n  ","\n"]);return ef=function(){return e},e}let ey=(0,m.J1)(eg(),ej.f),ev=(0,m.J1)(ef(),ey,x.z);var eS=t(8131),e_=t(12988),eb=t(23312);let eC=e=>Array.isArray(e)?e:[],eN=e=>{let{repoAddress:n}=e,[t,a]=(0,l.useState)(""),c=(0,I.FC)(n),d=(0,ei.n)(n),{data:p,loading:u}=(0,m.IT)(ev,{variables:{selector:d}}),h=((e,n)=>{let t=(e=>(0,l.useMemo)(()=>(e||"").replace(/(( ?> ?)|\.|\/)/g,"/").toLowerCase().trim(),[e]))(e);return(0,l.useMemo)(()=>t?n.filter(e=>(0,J.e9)("assetKey"in e?e.assetKey:e.key).toLowerCase().includes(t)):n,[n,t])})(t,(0,l.useMemo)(()=>(null==p?void 0:p.repositoryOrError.__typename)==="Repository"?p.repositoryOrError.assetNodes:[],[p])),{flattened:x,expandedKeys:j,onToggle:g}=(e=>{let{repoAddress:n,assets:t}=e,r=(0,I.FC)(n),{expandedKeys:i,onToggle:o}=(e=>{let{basePath:n}=(0,l.useContext)(e_.B),[t,r]=(0,eb.S)("".concat(n,":dagster.").concat(e),eC),i=(0,l.useCallback)(e=>{r(n=>{let t=new Set(n||[]);return t.has(e)?t.delete(e):t.add(e),Array.from(t)})},[r]);return(0,l.useMemo)(()=>({expandedKeys:t,onToggle:i}),[t,i])})("".concat(r,"-").concat("assets-virtualized-expansion-state")),s=(0,l.useMemo)(()=>{let e={};for(let n of t){let t=n.groupName||"UNGROUPED";e[t]||(e[t]=[]),e[t].push(n)}return Object.values(e).forEach(e=>{e.sort((e,n)=>eS.Vp.compare((0,J.mt)(e.assetKey),(0,J.mt)(n.assetKey)))}),e},[t]);return{flattened:(0,l.useMemo)(()=>{let e=[];return Object.entries(s).sort((e,n)=>{let[t]=e,[r]=n;return eS.Vp.compare(t,r)}).forEach(n=>{let[t,r]=n;e.push({type:"group",name:t,assetCount:r.length}),i.includes(t)&&r.forEach(n=>{e.push({type:"asset",id:n.id,definition:n})})}),e},[s,i]),expandedKeys:new Set(i),onToggle:o}})({repoAddress:n,assets:h}),f=(0,l.useCallback)(e=>{a(e.target.value)},[]),y=(0,l.useRef)(null),v=(0,ec.Te)({count:x.length,getScrollElement:()=>y.current,estimateSize:()=>44,overscan:10}),S=v.getTotalSize(),_=v.getVirtualItems();return(0,r.jsxs)(i.a,{flex:{direction:"column"},style:{overflow:"hidden"},children:[(0,r.jsx)(i.a,{padding:{vertical:8,horizontal:24},children:(0,r.jsx)(es.ks,{value:t,onChange:f,placeholder:"Search assets by key…",style:{width:"300px"},icon:"search"})}),(0,r.jsx)("div",{style:{flex:1,overflow:"hidden"},children:u&&!p?(0,r.jsx)(i.a,{flex:{direction:"row",justifyContent:"center"},padding:32,children:(0,r.jsx)(s.V,{label:"Loading assets…"})}):h.length?(0,r.jsxs)(eu.mc,{ref:y,children:[(0,r.jsx)(eu.Sy,{templateColumns:"1fr",sticky:!0,children:(0,r.jsx)(eu.A3,{children:"Name"})}),(0,r.jsx)(eu.Rp,{$totalHeight:S,children:_.map(e=>{let{index:n,key:t,size:i,start:o}=e,s=x[n];if("group"===s.type)return(0,r.jsx)(ek,{height:i,start:o,expanded:j.has(s.name),groupName:s.name,assetCount:s.assetCount,onToggle:g},t);let{path:a}=s.definition.assetKey;return(0,r.jsx)(eu.fI,{$height:i,$start:o,children:(0,r.jsx)(em,{iconName:"asset",label:(0,J.mt)({path:a}),path:(0,z.Q)({path:a})})},t)})})]}):t.trim().length>0?(0,r.jsx)(i.a,{padding:{top:20},children:(0,r.jsx)(o.I,{icon:"search",title:"No matching assets",description:(0,r.jsxs)("div",{children:["No assets matching ",(0,r.jsx)("strong",{children:t})," were found in ",c]})})}):(0,r.jsx)(i.a,{padding:{top:20},children:(0,r.jsx)(o.I,{icon:"search",title:"No assets",description:"No assets were found in ".concat(c)})})})]})},ek=e=>{let{groupName:n,assetCount:t,expanded:o,height:s,start:a,onToggle:l}=e;return(0,r.jsx)(ew,{$height:s,$start:a,onClick:()=>l(n),$open:o,tabIndex:0,onKeyDown:e=>{("Space"===e.code||"Enter"===e.code)&&(e.preventDefault(),l(n))},children:(0,r.jsxs)(i.a,{background:ea.GW(),flex:{direction:"row",alignItems:"center",gap:8,justifyContent:"space-between"},padding:{horizontal:24},border:"bottom",style:{height:"100%"},children:[(0,r.jsxs)(i.a,{flex:{alignItems:"center",gap:8},children:[(0,r.jsx)(el.In,{name:"asset_group"}),"UNGROUPED"===n?(0,r.jsx)("div",{children:"Ungrouped assets"}):(0,r.jsx)("strong",{children:n})]}),(0,r.jsxs)(i.a,{flex:{direction:"row",alignItems:"center",gap:12},children:[(0,r.jsx)(h.v,{children:1===t?"1 asset":"".concat(t," assets")}),(0,r.jsx)(el.In,{name:"arrow_drop_down",size:20})]})]})})},ew=(0,ed.Ay)(eu.fI).withConfig({componentId:"sc-ce405c5-0"})(["cursor:pointer;:focus,:active{outline:none;}",'[aria-label="arrow_drop_down"]{transition:transform 100ms linear;',"}"],el.hh,e=>{let{$open:n}=e;return n?null:"transform: rotate(-90deg);"});var eE=t(31158);function eI(){let e=(0,d._)(["\n  fragment RepositoryGraphsFragment on Repository {\n    id\n    usedSolids {\n      definition {\n        ... on CompositeSolidDefinition {\n          id\n          name\n          description\n        }\n      }\n      invocations {\n        pipeline {\n          id\n          name\n        }\n        solidHandle {\n          handleID\n        }\n      }\n    }\n    pipelines {\n      id\n      name\n      isJob\n      graphName\n    }\n  }\n"]);return eI=function(){return e},e}function eA(){let e=(0,d._)(["\n  query WorkspaceGraphsQuery($selector: RepositorySelector!) {\n    repositoryOrError(repositorySelector: $selector) {\n      ... on Repository {\n        id\n        ...RepositoryGraphsFragment\n      }\n      ...PythonErrorFragment\n    }\n  }\n\n  ","\n  ","\n"]);return eA=function(){return e},e}let eP=(0,m.J1)(eI()),eT=(0,m.J1)(eA(),eP,x.z),eR=e=>{let{repoAddress:n}=e,t=(0,ei.n)(n),{data:a,loading:c}=(0,m.IT)(eT,{variables:{selector:t}}),d=(0,l.useMemo)(()=>{let e=null==a?void 0:a.repositoryOrError;return e&&"Repository"===e.__typename?(e=>{let n=Array.from(new Set(e.pipelines.filter(e=>e.isJob&&!(0,J.$D)(e.name)).map(e=>e.graphName))).map(e=>({name:e,path:"/graphs/".concat(e),description:null}));return e.usedSolids.forEach(e=>{if("CompositeSolidDefinition"===e.definition.__typename){let t=e.invocations[0];t&&n.push({name:e.definition.name,path:"/graphs/".concat(t.pipeline.name,"/").concat(t.solidHandle.handleID,"/"),description:e.definition.description})}}),n.sort((e,n)=>eS.Vp.compare(e.name,n.name))})(e):[]},[a]),p=(0,I.FC)(n);return c?(0,r.jsx)(i.a,{padding:64,flex:{direction:"row",justifyContent:"center"},children:(0,r.jsx)(s.V,{label:"Loading graphs…"})}):a&&a.repositoryOrError?"PythonError"===a.repositoryOrError.__typename?(0,r.jsx)(i.a,{padding:64,children:(0,r.jsx)(eE.Bf,{error:a.repositoryOrError})}):"RepositoryNotFoundError"===a.repositoryOrError.__typename?(0,r.jsx)(i.a,{padding:64,children:(0,r.jsx)(o.I,{icon:"op",title:"Repository not found",description:"The repository ".concat(p," could not be found in this workspace.")})}):d.length?(0,r.jsx)(eh,{items:d,placeholder:"Search graphs by name…",nameFilter:(e,n)=>e.name.toLowerCase().includes(n),renderRow:e=>(0,r.jsx)(em,{iconName:"graph",label:e.name,path:(0,b.HG)(n,e.path)})}):(0,r.jsx)(i.a,{padding:64,children:(0,r.jsx)(o.I,{icon:"graph",title:"No graphs found",description:"The repository ".concat(p," does not contain any graphs.")})}):(0,r.jsx)(i.a,{padding:64,children:(0,r.jsx)(o.I,{icon:"graph",title:"An unexpected error occurred",description:"An error occurred while loading graphs for ".concat(p)})})};var eL=t(19938),eO=t(27355),eF=t(97036),eD=t.n(eF),eM=t(58704),e$=t(97945);function eH(){let e=(0,d._)(["\n  fragment OpCardSolidDefinitionFragment on ISolidDefinition {\n    name\n    description\n    metadata {\n      key\n      value\n    }\n    inputDefinitions {\n      name\n    }\n    outputDefinitions {\n      name\n    }\n    ...OpNodeDefinitionFragment\n  }\n\n  ","\n"]);return eH=function(){return e},e}let ez=e=>{let{name:n,inputDefinitions:t,outputDefinitions:o}=e.definition,s=(0,e$.ai)({name:n,inputs:t.map(e=>({definition:e,dependsOn:[]})),outputs:o.map(e=>({definition:e,dependedBy:[]})),definition:{description:null,assetNodes:[]}},{x:0,y:0});return(0,r.jsx)(i.a,{padding:24,children:(0,r.jsx)(eJ,{style:{height:s.bounds.height},children:(0,r.jsx)(eM.SX,{invocation:void 0,definition:e.definition,minified:!1,onClick:()=>{},onDoubleClick:()=>{},onEnterComposite:()=>{},onHighlightEdges:()=>{},layout:s,selected:!1,focused:!1,highlightedEdges:[],dim:!1})})})},eG=(0,m.J1)(eH(),eM.AU),eJ=ed.Ay.div.withConfig({componentId:"sc-edd60c99-0"})(["flex:1;max-width:450px;position:relative;"]);var eq=t(35148);function eB(){let e=(0,d._)(["\n  query UsedSolidDetailsQuery($name: String!, $repositorySelector: RepositorySelector!) {\n    repositoryOrError(repositorySelector: $repositorySelector) {\n      ... on Repository {\n        id\n        usedSolid(name: $name) {\n          definition {\n            ...OpCardSolidDefinitionFragment\n            ...SidebarOpDefinitionFragment\n          }\n          invocations {\n            pipeline {\n              id\n              name\n            }\n            solidHandle {\n              handleID\n            }\n          }\n        }\n      }\n    }\n  }\n\n  ","\n  ","\n"]);return eB=function(){return e},e}let eV=e=>{let{name:n,onClickInvocation:t,repoAddress:i}=e,o=(0,ei.n)(i),s=(0,m.IT)(eK,{variables:{name:n,repositorySelector:o}});return(0,r.jsx)(_.R,{queryResult:s,children:e=>{let{repositoryOrError:n}=e;if(!((null==n?void 0:n.__typename)==="Repository"&&n.usedSolid))return null;let i=n.usedSolid;return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(ez,{definition:i.definition}),(0,r.jsx)(eq.v,{definition:i.definition,showingSubgraph:!1,onClickInvocation:t,getInvocations:()=>i.invocations.map(e=>({handleID:e.solidHandle.handleID,pipelineName:e.pipeline.name}))})]})}})},eK=(0,m.J1)(eB(),eG,eq.I),eU=ed.Ay.div.withConfig({componentId:"sc-7391293-0"})(["overflow-y:scroll;flex:1;"]);var eQ=t(20562);function eW(){let e=(0,d._)(["\n  query OpsRootQuery($repositorySelector: RepositorySelector!) {\n    repositoryOrError(repositorySelector: $repositorySelector) {\n      ... on Repository {\n        id\n        usedSolids {\n          ...OpsRootUsedSolid\n        }\n      }\n      ...PythonErrorFragment\n    }\n  }\n\n  fragment OpsRootUsedSolid on UsedSolid {\n    definition {\n      name\n      ...OpTypeSignatureFragment\n    }\n    invocations {\n      pipeline {\n        id\n        isJob\n        name\n      }\n    }\n  }\n\n  ","\n  ","\n"]);return eW=function(){return e},e}function eZ(e){let n={};for(let t of e)for(let e of t)n[e]=!0;return Object.keys(n).sort((e,n)=>e.localeCompare(n))}let eY=e=>{let{name:n,repoAddress:t,usedSolids:s}=e,a=(0,c.W6)(),d=(0,c.zy)(),{q:p,typeExplorer:u}=eD().parse(d.search,{ignoreQueryPrefix:!0}),h=function(e){return[{token:"name",values:()=>e.map(e=>e.definition.name)},{token:"job",values:()=>eZ(e.map(e=>e.invocations.filter(e=>!e.pipeline.isJob).map(e=>e.pipeline.name)))},{token:"pipeline",values:()=>eZ(e.map(e=>e.invocations.filter(e=>e.pipeline.isJob).map(e=>e.pipeline.name)))},{token:"input",values:()=>eZ(e.map(e=>e.definition.inputDefinitions.map(e=>e.type.displayName)))},{token:"output",values:()=>eZ(e.map(e=>e.definition.outputDefinitions.map(e=>e.type.displayName)))}]}(s),m=(0,eL.Vh)(p||"",h),x=s.filter(e=>{for(let n of m)if(("name"===n.token||void 0===n.token)&&!e.definition.name.startsWith(n.value)||("pipeline"===n.token||"job"===n.token)&&!e.invocations.some(e=>e.pipeline.name===n.value)||"input"===n.token&&!e.definition.inputDefinitions.some(e=>e.type.displayName.startsWith(n.value))||"output"===n.token&&!e.definition.outputDefinitions.some(e=>e.type.displayName.startsWith(n.value)))return!1;return!0}),j=(0,l.useMemo)(()=>[...x].sort((e,n)=>eS.Vp.compare(e.definition.name,n.definition.name)),[x]),g=s.find(e=>e.definition.name===n),f=e=>{a.replace({search:"?".concat(eD().stringify({q:(0,eL.T9)(e)}))})},y=e=>{a.replace((0,b.HG)(t,"/ops/".concat(e,"?").concat(eD().stringify({q:p}))))};l.useEffect(()=>{1!==j.length||g&&j[0]===g||y(j[0].definition.name),"string"==typeof u&&f([...m,{token:"input",value:u}])});let v=l.useCallback(e=>{let{pipelineName:n,handleID:r}=e;a.push((0,b.HG)(t,"/pipeline_or_job/".concat(n,"/").concat(r.split(".").join("/"))))},[a,t]);return(0,r.jsx)("div",{style:{height:"100%",display:"flex"},children:(0,r.jsx)(eO.c,{identifier:"ops",firstInitialPercent:40,firstMinSize:448,first:(0,r.jsxs)(e3,{children:[(0,r.jsx)(i.a,{padding:{vertical:12,horizontal:24},border:"bottom",children:(0,r.jsx)(eL.LD,{values:m,onChange:e=>f(e),suggestionProviders:h,placeholder:"Filter by name or input/output type..."})}),(0,r.jsx)("div",{style:{flex:1,overflow:"hidden"},children:(0,r.jsx)(eX,{selected:g,onClickOp:y,items:j})})]}),second:g?(0,r.jsx)(eU,{children:(0,r.jsx)(eV,{name:g.definition.name,onClickInvocation:v,repoAddress:t})}):(0,r.jsx)(i.a,{padding:{vertical:64},children:(0,r.jsx)(o.I,{icon:"no-results",title:"No op selected",description:"Select an op to see its definition and invocations"})})})})},eX=e=>{let{items:n,selected:t}=e,i=(0,l.useRef)(null),o=(0,ec.Te)({count:n.length,getScrollElement:()=>i.current,estimateSize:()=>42,overscan:10}),s=o.getTotalSize(),a=o.getVirtualItems(),c=t?n.findIndex(e=>e===t):void 0;return(0,r.jsx)(eu.mc,{ref:i,children:(0,r.jsx)(eu.Rp,{$totalHeight:s,children:a.map(t=>{let{index:i,size:o,start:s}=t,a=n[i];return(0,r.jsx)(eu.fI,{$height:o,$start:s,children:(0,r.jsx)(e1,{$selected:c===i,onClick:()=>e.onClickOp(a.definition.name),children:(0,r.jsx)(ep.A,{text:a.definition.name})})},a.definition.name)})})})},e0=(0,m.J1)(eW(),eQ.p,x.z),e1=ed.Ay.div.withConfig({componentId:"sc-b1dea74d-0"})(["background:",";box-shadow:"," 4px 0 0 inset,"," 0 -1px 0 inset;color:",";cursor:pointer;font-size:14px;gap:8px;padding:12px 24px;user-select:none;overflow:hidden;white-space:nowrap;"],e=>{let{$selected:n}=e;return n?ea.GW():ea.Tr()},e=>{let{$selected:n}=e;return n?ea.iZ():"transparent"},ea.KH(),e=>{let{$selected:n}=e;return n?ea.eg():ea.XN()}),e3=ed.Ay.div.withConfig({componentId:"sc-b1dea74d-1"})(["display:flex;flex-direction:column;height:100%;"]),e6=e=>{let{repoAddress:n}=e,{name:t}=(0,c.g)(),a=(0,ei.n)(n),{data:l,loading:d}=(0,m.IT)(e0,{variables:{repositorySelector:a}}),p=(0,I.FC)(n);if(d)return(0,r.jsx)(i.a,{padding:64,flex:{direction:"row",justifyContent:"center"},children:(0,r.jsx)(s.V,{label:"Loading ops…"})});if(!l||!l.repositoryOrError)return(0,r.jsx)(i.a,{padding:64,children:(0,r.jsx)(o.I,{icon:"op",title:"An unexpected error occurred",description:"An error occurred while loading ops for ".concat(p)})});if("PythonError"===l.repositoryOrError.__typename)return(0,r.jsx)(i.a,{padding:64,children:(0,r.jsx)(eE.Bf,{error:l.repositoryOrError})});if("RepositoryNotFoundError"===l.repositoryOrError.__typename)return(0,r.jsx)(i.a,{padding:64,children:(0,r.jsx)(o.I,{icon:"op",title:"Repository not found",description:"The repository ".concat(p," could not be found in this workspace.")})});let{repositoryOrError:u}=l,{usedSolids:h}=u;return h.length?(0,r.jsx)(eY,{name:t,repoAddress:n,usedSolids:h}):(0,r.jsx)(i.a,{padding:64,children:(0,r.jsx)(o.I,{icon:"op",title:"No ops found",description:"The repository ".concat((0,I.FC)(n)," does not contain any ops.")})})},e2=e=>{let{repoAddress:n,repository:t}=e;return(0,r.jsx)(i.a,{flex:{direction:"column",alignItems:"stretch"},style:{flex:1,overflow:"hidden"},children:(0,r.jsxs)(c.dO,{children:[(0,r.jsx)(P.q,{path:"/locations/:repoPath/assets",children:(0,r.jsx)(eN,{repoAddress:n})}),(0,r.jsx)(P.q,{path:"/locations/:repoPath/jobs",children:(0,r.jsx)(e4,{repoAddress:n,repository:t})}),(0,r.jsx)(P.q,{path:"/locations/:repoPath/sensors",children:(0,r.jsx)(e5,{repoAddress:n,repository:t})}),(0,r.jsx)(P.q,{path:"/locations/:repoPath/schedules",children:(0,r.jsx)(e7,{repoAddress:n,repository:t})}),(0,r.jsx)(P.q,{path:"/locations/:repoPath/resources",children:(0,r.jsx)(e8,{repoAddress:n,repository:t})}),(0,r.jsx)(P.q,{path:"/locations/:repoPath/graphs",children:(0,r.jsx)(eR,{repoAddress:n})}),(0,r.jsx)(P.q,{path:"/locations/:repoPath/ops/:name?",children:(0,r.jsx)(e6,{repoAddress:n})})]})})},e4=e=>{let{repoAddress:n,repository:t}=e,s=(0,l.useMemo)(()=>t.pipelines.filter(e=>{let{name:n}=e;return!(0,J.$D)(n)}).sort((e,n)=>eS.Vp.compare(e.name,n.name)),[t]);return s.length?(0,r.jsx)(eh,{items:s,placeholder:"Search jobs by name…",nameFilter:(e,n)=>e.name.toLowerCase().includes(n),renderRow:e=>(0,r.jsx)(em,{iconName:"job",label:e.name,path:(0,b.HG)(n,"/jobs/".concat(e.name))})}):(0,r.jsx)(i.a,{padding:64,children:(0,r.jsx)(o.I,{icon:"job",title:"No jobs found",description:"The repository ".concat((0,I.FC)(n)," does not contain any jobs.")})})},e5=e=>{let{repoAddress:n,repository:t}=e,s=(0,l.useMemo)(()=>[...t.sensors].sort((e,n)=>eS.Vp.compare(e.name,n.name)),[t]);return s.length?(0,r.jsx)(eh,{items:s,placeholder:"Search sensors by name…",nameFilter:(e,n)=>e.name.toLowerCase().includes(n),renderRow:e=>(0,r.jsx)(em,{iconName:"sensors",label:e.name,path:(0,b.HG)(n,"/sensors/".concat(e.name))})}):(0,r.jsx)(i.a,{padding:64,children:(0,r.jsx)(o.I,{icon:"sensors",title:"No sensors found",description:"The repository ".concat((0,I.FC)(n)," does not contain any sensors.")})})},e7=e=>{let{repoAddress:n,repository:t}=e,s=(0,l.useMemo)(()=>[...t.schedules].sort((e,n)=>eS.Vp.compare(e.name,n.name)),[t]);return s.length?(0,r.jsx)(eh,{items:s,placeholder:"Search schedules by name…",nameFilter:(e,n)=>e.name.toLowerCase().includes(n),renderRow:e=>(0,r.jsx)(em,{iconName:"schedule",label:e.name,path:(0,b.HG)(n,"/schedules/".concat(e.name))})}):(0,r.jsx)(i.a,{padding:64,children:(0,r.jsx)(o.I,{icon:"schedule",title:"No schedules found",description:"The repository ".concat((0,I.FC)(n)," does not contain any schedules.")})})},e8=e=>{let{repoAddress:n,repository:t}=e,s=(0,l.useMemo)(()=>[...t.allTopLevelResourceDetails].sort((e,n)=>eS.Vp.compare(e.name,n.name)),[t]);return s.length?(0,r.jsx)(eh,{items:s,placeholder:"Search resources by name…",nameFilter:(e,n)=>e.name.toLowerCase().includes(n),renderRow:e=>(0,r.jsx)(em,{iconName:"resource",label:e.name,path:(0,b.HG)(n,"/resources/".concat(e.name))})}):(0,r.jsx)(i.a,{padding:64,children:(0,r.jsx)(o.I,{icon:"resource",title:"No resources found",description:"The repository ".concat((0,I.FC)(n)," does not contain any resources.")})})};var e9=t(75672);let ne=e=>{let{active:n=!1,item:t}=e,{type:o,icon:s,label:a,rightElement:l,tooltip:c="",disabled:d=!1}=t,p=(0,r.jsxs)(i.a,{padding:{vertical:4,left:12,right:8},flex:{direction:"row",gap:8,alignItems:"center",justifyContent:"space-between"},children:[(0,r.jsxs)(i.a,{flex:{direction:"row",gap:8,alignItems:"center"},className:"iconAndLabel",children:[s,a]}),(0,r.jsx)("div",{children:l})]});return"link"!==o||d?(0,r.jsx)(D.m,{canShow:!!c,content:c,placement:"right",display:"block",children:(0,r.jsx)(nr,{$active:n,disabled:d,onClick:t.onClick,children:p})}):(0,r.jsx)(D.m,{canShow:!!c,content:c,placement:"right",display:"block",children:(0,r.jsx)(nt,{to:t.path,$active:n,children:p})})},nn=(0,ed.AH)(["background-color:",";border-radius:8px;color:",";display:block;font-size:14px;line-height:20px;text-decoration:none;transition:100ms background-color linear;user-select:none;width:100%;:focus{outline:none;background-color:",";}:hover,:active{background-color:",";color:",";text-decoration:none;}.iconAndLabel{","{background-color:",";}}"],e=>{let{$active:n}=e;return n?ea.od():"transparent"},e=>{let{$active:n}=e;return n?ea.$s():ea.eg()},e=>{let{$active:n}=e;return n?ea.od():ea.GW()},e=>{let{$active:n}=e;return n?ea.od():ea.My()},e=>{let{$active:n}=e;return n?ea.$s():ea.eg()},el.hh,e=>{let{$active:n}=e;return n?ea.$s():ea.eg()}),nt=(0,ed.Ay)(M.N_).withConfig({componentId:"sc-a48d7aeb-0"})(["",""],nn),nr=(0,ed.Ay)(e9.N).withConfig({componentId:"sc-a48d7aeb-1"})(["",""],nn);var ni=t(1214);let no=e=>{let{repoAddress:n,repository:t}=e,{pathname:o}=(0,c.zy)(),s=t.assetGroups.length,a=t.pipelines.filter(e=>{let{name:n}=e;return!(0,J.$D)(n)}).length,l=t.schedules.length,d=t.sensors.length,p=t.allTopLevelResourceDetails.length,u=[{key:"assets",type:"link",icon:(0,r.jsx)(el.In,{name:"asset"}),label:"Assets",path:(0,b.HG)(n,"/assets"),rightElement:s?(0,r.jsx)(h.v,{icon:"asset_group",children:ni.Eg.format(s)}):null},{key:"jobs",type:"link",icon:(0,r.jsx)(el.In,{name:"job"}),label:"Jobs",path:(0,b.HG)(n,"/jobs"),rightElement:a?(0,r.jsx)(h.v,{children:ni.Eg.format(a)}):null},{key:"sensors",type:"link",icon:(0,r.jsx)(el.In,{name:"sensors"}),label:"Sensors",path:(0,b.HG)(n,"/sensors"),rightElement:d?(0,r.jsx)(h.v,{children:ni.Eg.format(d)}):null},{key:"schedules",type:"link",icon:(0,r.jsx)(el.In,{name:"schedule"}),label:"Schedules",path:(0,b.HG)(n,"/schedules"),rightElement:l?(0,r.jsx)(h.v,{children:ni.Eg.format(l)}):null},{key:"resources",type:"link",icon:(0,r.jsx)(el.In,{name:"resource"}),label:"Resources",path:(0,b.HG)(n,"/resources"),rightElement:p?(0,r.jsx)(h.v,{children:ni.Eg.format(p)}):null},{key:"graphs",type:"link",icon:(0,r.jsx)(el.In,{name:"graph"}),label:"Graphs",path:(0,b.HG)(n,"/graphs")},{key:"ops",type:"link",icon:(0,r.jsx)(el.In,{name:"op"}),label:"Ops",path:(0,b.HG)(n,"/ops")}];return(0,r.jsx)(r.Fragment,{children:(0,r.jsx)(i.a,{padding:{bottom:12},children:u.map(e=>(0,r.jsx)(ne,{item:e,active:"link"===e.type&&o===e.path},e.key))})})},ns=e=>{let{repoAddress:n,repository:t}=e,{locationEntries:o,loadingNonAssets:s}=(0,l.useContext)(E.zp),a=o.find(e=>e.name===n.location);return a?(0,r.jsxs)(i.a,{style:{height:"100%",overflow:"hidden"},flex:{direction:"column"},children:[(0,r.jsx)(en,{repoAddress:n}),(0,r.jsx)(i.a,{padding:{horizontal:24},border:"bottom",children:(0,r.jsx)(eo,{selectedTab:"definitions",repoAddress:n,locationEntry:a})}),(0,r.jsxs)(i.a,{style:{overflow:"hidden"},flex:{direction:"row",grow:1},children:[(0,r.jsx)(i.a,{style:{flex:"0 0 292px",overflowY:"auto"},padding:{vertical:16,horizontal:12},border:"right",children:(0,r.jsx)(no,{repoAddress:n,repository:t})}),(0,r.jsx)(i.a,{flex:{direction:"column",alignItems:"stretch"},style:{flex:1,overflow:"hidden"},children:(0,r.jsx)(e2,{repoAddress:n,repository:t})})]})]}):s?(0,r.jsx)("div",{}):(0,r.jsx)(c.rd,{to:"/deployment/locations"})};var na=t(99649),nl=t(93096),nc=t(92424),nd=t(8662),np=t.n(nd),nu=t(57717),nh=t(38513),nm=t(97311),nx=t.n(nm);function nj(e){let{content:n}=e,[t,i]=(0,l.useState)(!1),o=async()=>{try{await navigator.clipboard.writeText(n),i(!0),setTimeout(()=>{i(!1)},2e3)}catch(e){console.error("Failed to copy text:",e)}},s=t?(0,r.jsx)("svg",{width:"20",height:"20",viewBox:"0 0 20 20",fill:"currentColor",xmlns:"http://www.w3.org/2000/svg",children:(0,r.jsx)("path",{d:"M7.49967 13.5L3.99967 10L2.83301 11.1667L7.49967 15.8334L17.4997 5.83335L16.333 4.66669L7.49967 13.5Z",fill:"currentColor"})}):(0,r.jsx)("svg",{width:"20",height:"20",viewBox:"0 0 20 20",fill:"currentColor",xmlns:"http://www.w3.org/2000/svg",children:(0,r.jsx)("path",{d:"M7.5 15C7.04167 15 6.64931 14.8368 6.32292 14.5104C5.99653 14.184 5.83333 13.7917 5.83333 13.3334V3.33335C5.83333 2.87502 5.99653 2.48266 6.32292 2.15627C6.64931 1.82988 7.04167 1.66669 7.5 1.66669H15C15.4583 1.66669 15.8507 1.82988 16.1771 2.15627C16.5035 2.48266 16.6667 2.87502 16.6667 3.33335V13.3334C16.6667 13.7917 16.5035 14.184 16.1771 14.5104C15.8507 14.8368 15.4583 15 15 15H7.5ZM7.5 13.3334H15V3.33335H7.5V13.3334ZM4.16667 18.3334C3.70833 18.3334 3.31597 18.1702 2.98958 17.8438C2.66319 17.5174 2.5 17.125 2.5 16.6667V5.00002H4.16667V16.6667H13.3333V18.3334H4.16667Z",fill:"currentColor"})});return(0,r.jsx)("button",{className:nx().button,onClick:o,children:s})}var ng=t(12798),nf=t.n(ng);function ny(e){let{yaml:n}=e,t=nu.A.highlight(n,{language:"yaml"}).value;return(0,r.jsxs)("div",{className:nf().container,children:[(0,r.jsx)("pre",{dangerouslySetInnerHTML:{__html:t},className:nf().code}),(0,r.jsx)("div",{className:nf().buttonContainer,children:(0,r.jsx)(nj,{content:n})})]})}t(75530),nu.A.registerLanguage("yaml",nh.A);var nv=t(464),nS=t(77688),n_=t(54865),nb=t(17229),nC=t.n(nb),nN=t(80794),nk=t(50212),nw=t(81561),nE=t.n(nw);function nI(e){let{owners:n,tags:t}=e;return(0,r.jsxs)("div",{className:nE().tags,children:[n.map(e=>(0,r.jsxs)("div",{className:(0,nk.A)(nE().tag,nE().authorTag),children:["owner: ",e]},e)),t.map(e=>(0,r.jsxs)("div",{className:nE().tag,children:["tag: ",e]},e))]})}function nA(e){let{config:n,descriptionStyle:t}=e,{description:i,name:o}=n,s=(0,l.useMemo)(()=>{var e;return"truncated"===t?null!=(e=nR(i||"").split("\n\n").find(e=>e.trim().length>0))?e:"":i},[t,i]);return(0,r.jsxs)("div",{className:nC().container,children:[(0,r.jsxs)("div",{className:nC().heading,children:[(0,r.jsx)("svg",{className:nC().icon,width:"20",height:"20",viewBox:"0 0 20 20",fill:"currentColor",xmlns:"http://www.w3.org/2000/svg",children:(0,r.jsx)("path",{d:"M9.16667 16.1875V10.4791L4.16667 7.58329V13.2916L9.16667 16.1875ZM10.8333 16.1875L15.8333 13.2916V7.58329L10.8333 10.4791V16.1875ZM10 9.04163L14.9375 6.18746L10 3.33329L5.0625 6.18746L10 9.04163ZM3.33333 14.75C3.06944 14.5972 2.86458 14.3958 2.71875 14.1458C2.57292 13.8958 2.5 13.618 2.5 13.3125V6.68746C2.5 6.3819 2.57292 6.10413 2.71875 5.85413C2.86458 5.60413 3.06944 5.40274 3.33333 5.24996L9.16667 1.89579C9.43056 1.74301 9.70833 1.66663 10 1.66663C10.2917 1.66663 10.5694 1.74301 10.8333 1.89579L16.6667 5.24996C16.9306 5.40274 17.1354 5.60413 17.2812 5.85413C17.4271 6.10413 17.5 6.3819 17.5 6.68746V13.3125C17.5 13.618 17.4271 13.8958 17.2812 14.1458C17.1354 14.3958 16.9306 14.5972 16.6667 14.75L10.8333 18.1041C10.5694 18.2569 10.2917 18.3333 10 18.3333C9.70833 18.3333 9.43056 18.2569 9.16667 18.1041L3.33333 14.75Z",fill:"currentColor"})}),(0,r.jsxs)("div",{className:nC().headingContent,children:[(0,r.jsx)("h1",{children:o}),(0,r.jsx)("div",{className:nC().description,children:(0,r.jsx)(nv.oz,{remarkPlugins:[nS.A],components:"truncated"===t?nP:void 0,children:s})})]})]}),n.tags&&n.tags.length>0?(0,r.jsx)(nI,{owners:n.owners,tags:n.tags}):null]})}let nP={a:e=>{let{children:n}=e;return(0,r.jsx)("span",{children:n})}},nT=(0,n_.V)().use(nN.A),nR=e=>nT.processSync(e).toString().replace(/\\/g,"").trim();var nL=t(14114),nO=t.n(nL);function nF(e){let{componentName:n}=e,t="dg scaffold defs ".concat(n," {component_name}");return(0,r.jsxs)("div",{className:nO().container,children:[(0,r.jsx)("div",{children:"Use the scaffolding command to generate the necessary files and configuration for your component."}),(0,r.jsxs)("div",{className:nO().commandContainer,children:[(0,r.jsx)("pre",{children:t}),(0,r.jsx)("div",{className:nO().buttonContainer,children:(0,r.jsx)(nj,{content:t})})]})]})}var nD=t(96567),nM=t.n(nD),n$=t(11988),nH=t.n(n$);function nz(e){let{items:n,defs:t}=e,i=function e(n,t){if(void 0===n)return"undefined";if(!0===n)return"true";if(!1===n)return"false";if(Array.isArray(n))return n.map(n=>e(n,t)).flat().join(" | ");if(n.$ref){let e=n.$ref.split("/").pop();return e||"unknown"}let r=n.type;return r&&"string"==typeof r?r:"Array"}(n,t);return(0,r.jsxs)("div",{className:nH().tag,children:["Array<",i,">"]})}var nG=t(92985),nJ=t.n(nG);let nq=new Set(["string","number","boolean","object","array","null"]);function nB(e){let{name:n}=e;return(0,r.jsx)("span",{className:(0,nk.A)(nJ().tag,nq.has(n)?null:nJ().objectType),children:n})}function nV(e){let n,{schema:t}=e;try{n=JSON.parse(t)}catch(e){console.error(e)}if(!n)return(0,r.jsx)("div",{children:"Invalid schema"});let i=n;return(0,r.jsx)(nK,{schema:i,defs:i.$defs})}function nK(e){var n;let{schema:t,defs:i}=e,o=t.title,s=null!=(n=t.properties)?n:{};return(0,r.jsxs)("div",{className:nM().schemaContainer,children:[o?(0,r.jsx)("div",{className:nM().schemaTitle,children:o}):null,Object.entries(s).map(e=>{let[n,t]=e;return(0,r.jsx)(nU,{name:n,property:t,defs:i},n)})]})}function nU(e){let{name:n,property:t,defs:i}=e,[o,s]=(0,l.useState)(!1);if(!0===t||!1===t)return null;let{anyOf:a,type:c,description:d,$ref:p,required:u,examples:h}=t,m=function e(n){let{type:t,anyOf:r,$ref:i}=n;if(i)return!0;if("array"===t){let{items:t}=n;return void 0!==t&&!0!==t&&!1!==t&&(Array.isArray(t)?t.filter(e=>nQ(e)).some(n=>e(n)):e(t))}return!!r&&r.filter(e=>nQ(e)).some(n=>e(n))}(t),x=h?Array.isArray(h)?h[0]:h:null,j=t.default&&"__DAGSTER_UNSET_DEFAULT__"!==t.default?t.default:null;return(0,r.jsxs)("div",{className:nM().propertyContainer,children:[(0,r.jsxs)("button",{disabled:!m,className:(0,nk.A)(nM().expandButton,o&&nM().expanded),onClick:()=>{s(e=>!e)},children:[(0,r.jsxs)("div",{className:nM().property,children:[(0,r.jsxs)("div",{className:nM().propertyNameAndTypes,children:[(0,r.jsx)("div",{className:nM().propertyName,children:n}),p?(0,r.jsx)(nY,{$ref:p,defs:i}):null,c?(0,r.jsx)(nX,{property:t,defs:i}):null,a?(0,r.jsx)(n0,{anyOf:a,defs:i}):null,u?(0,r.jsx)("div",{className:nM().required,children:"required"}):null]}),m?(0,r.jsx)("div",{className:nM().chevronContainer,children:(0,r.jsx)(n1,{})}):null]}),d||j||h?(0,r.jsxs)("div",{className:nM().propertyDescriptionContainer,children:[(0,r.jsx)("div",{className:nM().propertyDescription,children:d}),j?(0,r.jsxs)("div",{className:nM().propertyDefault,children:["default:"," ",(0,r.jsx)("div",{className:nM().propertyDefaultValue,children:JSON.stringify(j)})]}):null,x?(0,r.jsxs)("div",{className:nM().propertyExamples,children:["example:"," ",(0,r.jsx)("div",{className:nM().propertyExamplesValue,children:JSON.stringify(x)})]}):null]}):null]}),o?(0,r.jsx)("div",{className:nM().expansionContainer,children:(0,r.jsx)(nW,{property:t,defs:i})}):null]})}function nQ(e){return void 0!==e&&!0!==e&&!1!==e}function nW(e){let{property:n,defs:t}=e;if(!0===n||!1===n||!n)return null;let{properties:i,anyOf:o,$ref:s,type:a}=n;if(i)return(0,r.jsx)("div",{className:nM().expansion,children:(0,r.jsx)(nK,{schema:n,defs:t})});if("array"===a){let e=Array.isArray(n.items)?n.items:n.items?[n.items]:[];return(0,r.jsx)("div",{className:nM().expansion,children:e.filter(e=>"boolean"!=typeof e&&void 0!==e).map((e,n)=>(0,r.jsx)(nW,{property:e,defs:t},n))})}if(o)return(0,r.jsx)("div",{className:nM().expansion,children:o.filter(e=>"boolean"!=typeof e&&void 0!==e).map((e,n)=>(0,r.jsx)(nW,{property:e,defs:t},n))});if(s){let e=s.split("/").pop();if(e){let n=null==t?void 0:t[e];if("boolean"!=typeof n&&void 0!==n)return(0,r.jsx)("div",{className:nM().expansion,children:(0,r.jsx)(nK,{schema:n,defs:t})})}}return null}function nZ(e){switch(e){case"object":return"object";case"array":return"array";case"string":return"string";case"number":return"number";case"integer":return"integer";case"boolean":return"boolean";case"null":return"null";default:return e}}function nY(e){let{$ref:n,defs:t}=e,i=n.split("/").pop();if(i){let e=null==t?void 0:t[i];if(e)return(0,r.jsx)(nX,{title:i,property:e,defs:t})}return null}function nX(e){let{title:n,property:t,defs:i}=e;if(!0===t||!1===t)return(0,r.jsx)(nB,{name:String(t)});if(!t)return null;let o=t.type;if(Array.isArray(o)){let e=Array.isArray(o)?o:void 0===o?[]:[o];return(0,r.jsx)("div",{children:e.map(e=>(0,r.jsx)(nB,{name:nZ(e)},e))})}if("array"===o)return(0,r.jsx)("div",{children:(0,r.jsx)(nz,{items:t.items,defs:i})});let s=t.$ref;if(s){let e=s.split("/").pop();if(e){let n=null==i?void 0:i[e];if(void 0!==n)return(0,r.jsx)(nX,{title:e,property:n,defs:i})}return null}if(n)return(0,r.jsx)(nB,{name:n});switch(o){case"object":case"string":case"number":case"boolean":case"integer":case"null":return(0,r.jsx)(nB,{name:nZ(o)});default:return(0,r.jsx)("div",{children:"none"})}}function n0(e){let{anyOf:n,defs:t}=e;return(0,r.jsxs)("div",{className:nM().anyOf,children:[(0,r.jsx)("div",{className:nM().anyOfLabel,children:"Any of:"}),(null!=n?n:[]).map((e,n)=>(0,r.jsx)(nX,{property:e,defs:t},n))]})}let n1=()=>(0,r.jsx)("svg",{width:"20",height:"20",viewBox:"0 0 20 20",fill:"currentColor",xmlns:"http://www.w3.org/2000/svg",className:nM().chevron,children:(0,r.jsx)("path",{d:"M6.175 7.15837L5 8.33337L10 13.3334L15 8.33337L13.825 7.15837L10 10.975L6.175 7.15837Z",fill:"currentColor"})});function n3(e){let{config:n}=e;return(0,r.jsxs)("div",{children:[(0,r.jsx)(nA,{config:n,descriptionStyle:"full"}),(0,r.jsxs)("div",{className:np().sectionHeader,id:"scaffolding",children:[(0,r.jsx)("h2",{children:"Scaffolding"}),(0,r.jsx)("a",{href:"#scaffolding",children:"#"})]}),(0,r.jsx)(nF,{componentName:n.name}),(0,r.jsxs)("div",{className:np().sectionHeader,id:"schema",children:[(0,r.jsx)("h2",{children:"Schema"}),(0,r.jsx)("a",{href:"#schema",children:"#"})]}),(0,r.jsx)(nV,{schema:n.schema}),(0,r.jsxs)("div",{className:np().sectionHeader,id:"example",children:[(0,r.jsxs)("h2",{children:["Example ",(0,r.jsx)("code",{children:"defs.yaml"})]}),(0,r.jsx)("a",{href:"#example",children:"#"})]}),(0,r.jsx)(ny,{yaml:n.example})]})}var n6=t(85157),n2=t.n(n6);function n4(e){let{componentConfig:n}=e;return(0,r.jsxs)("div",{className:n2().outer,children:[(0,r.jsx)("div",{className:n2().container,children:(0,r.jsx)("div",{className:n2().main,children:(0,r.jsx)(n3,{config:n})})}),(0,r.jsx)("div",{className:n2().tableOfContents,children:(0,r.jsxs)("ol",{children:[(0,r.jsx)("li",{children:(0,r.jsx)("a",{href:"#scaffolding",children:"Scaffolding"})}),(0,r.jsx)("li",{children:(0,r.jsx)("a",{href:"#schema",children:"Schema"})}),(0,r.jsx)("li",{children:(0,r.jsxs)("a",{href:"#example",children:["Example ",(0,r.jsx)("code",{children:"defs.yaml"})]})})]})})]})}var n5=t(13872),n7=t.n(n5);function n8(e){let{contents:n,renderLink:t,loading:i}=e;if(i)return(0,r.jsx)("div",{className:n7().emptyState,children:"Loading…"});if(!n)return(0,r.jsx)("div",{className:n7().emptyState,children:"No components found."});let o=n.map(e=>e.componentTypes.map(n=>({component:n,packageName:e.name}))).flat();return(0,r.jsx)("div",{className:n7().container,children:o.map(e=>{let{component:n,packageName:i}=e;return t({key:n.name,href:"/packages/".concat(i,"/").concat(n.name),className:n7().componentItem,children:(0,r.jsx)(nA,{config:n,descriptionStyle:"truncated"})})})})}var n9=t(68375),te=t.n(n9);function tn(e){let{pkg:n,renderLink:t}=e;return(0,r.jsx)("div",{className:te().container,children:n.componentTypes.map(e=>(0,r.jsx)(l.Fragment,{children:t({key:e.name,href:"/packages/".concat(n.name,"/").concat(e.name),className:te().componentItem,children:(0,r.jsx)(nA,{config:e,descriptionStyle:"truncated"})})},e.name))})}var tt=t(94214),tr=t.n(tt);function ti(e){let{pkg:n,renderLink:t}=e;return(0,r.jsx)("div",{className:tr().container,children:(0,r.jsx)(tn,{pkg:n,renderLink:t})})}var to=t(74891),ts=t.n(to);function ta(e){let[n,t]=e.split("/").slice(2);return{selectedPkg:n,selectedComponent:t}}function tl(e){let{contents:n,loading:t,pathname:i,renderLink:o}=e,{selectedPkg:s,selectedComponent:a}=ta(i),[c,d]=(0,l.useState)(()=>new Set(s?[s]:[]));(0,l.useLayoutEffect)(()=>{d(e=>{let{selectedPkg:n}=ta(i),t=new Set(e);return n&&t.add(n),t})},[i]);let[p,u]=(0,l.useState)("");return(0,r.jsxs)("div",{className:ts().container,children:[(0,r.jsx)("div",{className:ts().searchOuter,children:(0,r.jsxs)("div",{className:ts().searchContainer,children:[(0,r.jsx)("svg",{className:ts().icon,width:"20",height:"20",viewBox:"0 0 20 20",fill:"currentColor",xmlns:"http://www.w3.org/2000/svg",children:(0,r.jsx)("path",{d:"M12.9167 11.6667H12.2583L12.025 11.4417C12.8699 10.4617 13.3343 9.21058 13.3333 7.91667C13.3333 6.84535 13.0157 5.7981 12.4205 4.90733C11.8253 4.01656 10.9793 3.3223 9.98954 2.91232C8.99977 2.50235 7.91066 2.39508 6.85993 2.60408C5.8092 2.81309 4.84404 3.32897 4.08651 4.08651C3.32897 4.84404 2.81309 5.8092 2.60408 6.85993C2.39508 7.91066 2.50235 8.99977 2.91232 9.98954C3.3223 10.9793 4.01656 11.8253 4.90733 12.4205C5.7981 13.0157 6.84535 13.3333 7.91667 13.3333C9.25834 13.3333 10.4917 12.8417 11.4417 12.025L11.6667 12.2583V12.9167L15.8333 17.075L17.075 15.8333L12.9167 11.6667ZM7.91667 11.6667C5.84167 11.6667 4.16667 9.99167 4.16667 7.91667C4.16667 5.84167 5.84167 4.16667 7.91667 4.16667C9.99167 4.16667 11.6667 5.84167 11.6667 7.91667C11.6667 9.99167 9.99167 11.6667 7.91667 11.6667Z",fill:"currentColor"})}),(0,r.jsx)("input",{type:"text",placeholder:"Jump to…",value:p,className:ts().search,onChange:e=>u(e.target.value)})]})}),(0,r.jsx)("div",{className:ts().treeContainer,children:null===n&&t?(0,r.jsx)("div",{className:ts().loading,children:"Loading…"}):(0,r.jsx)(r.Fragment,{children:null==n?void 0:n.map(e=>(0,r.jsxs)("div",{children:[(0,r.jsxs)("div",{className:ts().pkgItem,children:[(0,r.jsx)("button",{className:(0,nk.A)(ts().expandButton,c.has(e.name)?ts().expanded:null),onClick:()=>{var n;return n=e.name,void d(e=>{let t=new Set(e);return t.has(n)?t.delete(n):t.add(n),t})},children:(0,r.jsx)("svg",{className:ts().chevron,width:"20",height:"20",viewBox:"0 0 20 20",fill:"currentColor",xmlns:"http://www.w3.org/2000/svg",children:(0,r.jsx)("path",{d:"M5.83301 8.33337L9.99967 12.5L14.1663 8.33337H5.83301Z",fill:"currentColor"})})}),o({key:e.name,href:"/packages/".concat(e.name),className:(0,nk.A)(ts().pkgLink,c.has(e.name)?ts().expanded:null,s!==e.name||a?null:ts().selected),children:(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(tc,{}),(0,r.jsx)("div",{className:ts().pkgName,children:e.name})]})})]}),c.has(e.name)?(0,r.jsx)("div",{className:ts().componentList,children:e.componentTypes.map(n=>{let t=s===e.name&&a===n.name;return(0,r.jsx)(l.Fragment,{children:o({key:n.name,href:"/packages/".concat(e.name,"/").concat(n.name),className:(0,nk.A)(ts().componentLink,t?ts().selected:null),children:(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(td,{}),(0,r.jsx)("span",{className:ts().componentName,children:n.name})]})})},n.name)})}):null]},e.name))})})]})}let tc=()=>(0,r.jsx)("svg",{className:ts().icon,width:"20",height:"20",viewBox:"0 0 20 20",fill:"currentColor",xmlns:"http://www.w3.org/2000/svg",children:(0,r.jsx)("path",{d:"M16.667 5.00004H10.0003L8.33366 3.33337H3.33366C2.41699 3.33337 1.67533 4.08337 1.67533 5.00004L1.66699 15C1.66699 15.9167 2.41699 16.6667 3.33366 16.6667H16.667C17.5837 16.6667 18.3337 15.9167 18.3337 15V6.66671C18.3337 5.75004 17.5837 5.00004 16.667 5.00004ZM16.667 15H3.33366V6.66671H16.667V15Z",fill:"currentColor"})}),td=()=>(0,r.jsx)("svg",{className:ts().icon,width:"20",height:"20",viewBox:"0 0 20 20",fill:"currentColor",xmlns:"http://www.w3.org/2000/svg",children:(0,r.jsx)("path",{d:"M9.16667 16.1875V10.4791L4.16667 7.58329V13.2916L9.16667 16.1875ZM10.8333 16.1875L15.8333 13.2916V7.58329L10.8333 10.4791V16.1875ZM10 9.04163L14.9375 6.18746L10 3.33329L5.0625 6.18746L10 9.04163ZM3.33333 14.75C3.06944 14.5972 2.86458 14.3958 2.71875 14.1458C2.57292 13.8958 2.5 13.618 2.5 13.3125V6.68746C2.5 6.3819 2.57292 6.10413 2.71875 5.85413C2.86458 5.60413 3.06944 5.40274 3.33333 5.24996L9.16667 1.89579C9.43056 1.74301 9.70833 1.66663 10 1.66663C10.2917 1.66663 10.5694 1.74301 10.8333 1.89579L16.6667 5.24996C16.9306 5.40274 17.1354 5.60413 17.2812 5.85413C17.4271 6.10413 17.5 6.3819 17.5 6.68746V13.3125C17.5 13.618 17.4271 13.8958 17.2812 14.1458C17.1354 14.3958 16.9306 14.5972 16.6667 14.75L10.8333 18.1041C10.5694 18.2569 10.2917 18.3333 10 18.3333C9.70833 18.3333 9.43056 18.2569 9.16667 18.1041L3.33333 14.75Z",fill:"currentColor"})});var tp=t(40810),tu=t.n(tp);let th=e=>{let{loading:n,contents:t,repoAddress:i,pathname:o}=e;return(0,r.jsx)(tl,{contents:t,pathname:o,loading:n,renderLink:e=>{var{key:n,href:t,children:o,className:s}=e,a=(0,nc._)(e,["key","href","children","className"]);let l=t?"/locations/".concat((0,I.li)(i),"/docs").concat(t):"#";return(0,r.jsx)(M.N_,(0,nl._)((0,na._)({to:l},a),{className:(0,nk.A)(tu().link,s),children:o}),n)}})};function tm(){let e=(0,d._)(["\n  query CodeLocationDocsQuery($repositorySelector: RepositorySelector!) {\n    repositoryOrError(repositorySelector: $repositorySelector) {\n      ... on Repository {\n        id\n        locationDocsJsonOrError {\n          ... on LocationDocsJson {\n            json\n          }\n          ... on PythonError {\n            message\n          }\n        }\n      }\n    }\n  }\n"]);return tm=function(){return e},e}let tx=(0,m.J1)(tm());var tj=t(70994),tg=t.n(tj);let tf=e=>{let n=(0,c.g)(),{repoAddress:t}=e,{locationEntries:o,loadingNonAssets:s}=(0,l.useContext)(E.zp),a=o.find(e=>e.name===t.location);return a?(0,r.jsxs)(i.a,{flex:{direction:"column"},style:{height:"100%",overflow:"hidden"},children:[(0,r.jsx)(en,{repoAddress:t}),(0,r.jsx)(i.a,{padding:{horizontal:24},border:"bottom",children:(0,r.jsx)(eo,{repoAddress:t,selectedTab:"docs",locationEntry:a})}),(0,r.jsx)("div",{className:tg().contentContainer,children:(0,r.jsx)(ty,{repoAddress:t,packageName:n.packageName,componentName:n.componentName})})]}):s?(0,r.jsx)("div",{}):(0,r.jsx)(c.rd,{to:"/deployment/locations"})},ty=(0,l.memo)(e=>{let{repoAddress:n,packageName:t,componentName:i}=e,{data:o,loading:s}=(0,m.IT)(tx,{variables:{repositorySelector:{repositoryName:n.name,repositoryLocationName:n.location}}}),a=(0,l.useMemo)(()=>{let e=null==o?void 0:o.repositoryOrError;if((null==e?void 0:e.__typename)!=="Repository")return null;let n="LocationDocsJson"===e.locationDocsJsonOrError.__typename?e.locationDocsJsonOrError.json:null;if("string"==typeof n)try{return JSON.parse(n)}catch(e){console.error(e)}return null},[o]),c=t?"/packages/".concat(t).concat(i?"/".concat(i):""):"";return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)("div",{className:tg().sidebar,children:(0,r.jsx)(th,{loading:s,contents:a,repoAddress:n,pathname:c})}),(0,r.jsx)("div",{className:tg().main,children:(()=>{if(t){if(i){var e;let n=null==a||null==(e=a.find(e=>e.name===t))?void 0:e.componentTypes.find(e=>e.name===i);return n?(0,r.jsx)(n4,{componentConfig:n}):(0,r.jsx)("div",{className:tg().error,children:"Component not found"})}let o=null==a?void 0:a.find(e=>e.name===t);return o?(0,r.jsx)(ti,{pkg:o,renderLink:e=>{var{key:t,href:i,children:o}=e,s=(0,nc._)(e,["key","href","children"]);return(0,r.jsx)(M.N_,(0,nl._)((0,na._)({to:"/locations/".concat((0,I.li)(n),"/docs").concat(i||"#")},s),{children:o}),t)}}):(0,r.jsx)("div",{className:tg().error,children:"Package not found"})}return(0,r.jsx)(n8,{loading:s,contents:a,renderLink:e=>{var{key:t,href:i,children:o}=e,s=(0,nc._)(e,["key","href","children"]);return(0,r.jsx)(M.N_,(0,nl._)((0,na._)({to:"/locations/".concat((0,I.li)(n),"/docs").concat(i||"#")},s),{children:o}),t)}})})()})]})});ty.displayName="QueryfulCodeLocationDocs";var tv=t(26020),tS=t(42572),t_=t(63018);let tb=e=>{let{locationName:n}=e;return null},tC=e=>{let{locationName:n}=e;return null};var tN=t(30118),tk=t(94251),tw=t(15992);let tE=e=>{let{latestDefsStateInfo:n,defsStateInfo:t}=e,o=(0,l.useMemo)(()=>{let e=new Set;return null==t||t.keyStateInfo.forEach(n=>{n&&e.add(n.name)}),Array.from(e).map(e=>{var r,i,o,s,a,l,c,d;let p=null==n||null==(r=n.keyStateInfo)?void 0:r.find(n=>(null==n?void 0:n.name)===e),u=null==t||null==(i=t.keyStateInfo)?void 0:i.find(n=>(null==n?void 0:n.name)===e);return{key:e,latestVersion:(null==p||null==(o=p.info)?void 0:o.version)||null,latestTimestamp:(null==p||null==(s=p.info)?void 0:s.createTimestamp)||null,latestManagementType:(null==p||null==(a=p.info)?void 0:a.managementType)||null,currentVersion:(null==u||null==(l=u.info)?void 0:l.version)||null,currentTimestamp:(null==u||null==(c=u.info)?void 0:c.createTimestamp)||null,currentManagementType:(null==u||null==(d=u.info)?void 0:d.managementType)||null}}).sort((e,n)=>(n.currentTimestamp||0)-(e.currentTimestamp||0))},[n,t]);return(0,r.jsxs)(tv.X,{style:{width:"100%"},children:[(0,r.jsx)("thead",{children:(0,r.jsxs)("tr",{children:[(0,r.jsx)("th",{children:"Defs state key"}),(0,r.jsx)("th",{children:"Current state"}),(0,r.jsx)("th",{children:"Last updated"}),(0,r.jsx)("th",{children:"Status"})]})}),(0,r.jsx)("tbody",{children:o.map(e=>{let{key:t,currentVersion:o,currentTimestamp:s,currentManagementType:a,latestVersion:l}=e;return(0,r.jsxs)("tr",{children:[(0,r.jsx)("td",{children:t}),(0,r.jsx)("td",{children:((e,n)=>e&&n?n===tk.PD5.LOCAL_FILESYSTEM?(0,r.jsx)(D.m,{content:"State is stored on the local filesystem or in the deployed image",placement:"top",children:(0,r.jsx)(h.v,{children:"local filesystem"})}):n===tk.PD5.LEGACY_CODE_SERVER_SNAPSHOTS?(0,r.jsx)(D.m,{content:"State is stored in-memory on the code server",placement:"top",children:(0,r.jsx)(h.v,{children:"code server"})}):(0,r.jsx)(D.m,{content:e,placement:"top",children:(0,r.jsx)(h.v,{children:(0,r.jsx)("span",{style:{fontFamily:tS.a.monospace},children:(e=>e?e.length>8?e.substring(0,8):e:"—")(e)})})}):"—")(o,a)}),(0,r.jsx)("td",{children:(e=>e?(0,r.jsx)(h.v,{children:(0,r.jsx)(tw.w,{unixTimestamp:e})}):"—")(s)}),(0,r.jsx)("td",{children:((e,t,o,s)=>{if(o===tk.PD5.LOCAL_FILESYSTEM||o===tk.PD5.LEGACY_CODE_SERVER_SNAPSHOTS)return(0,r.jsxs)(i.a,{flex:{direction:"row",alignItems:"center",gap:8},children:[(0,r.jsx)(el.In,{name:"check_circle",color:ea.P$(),size:16}),(0,r.jsx)("span",{style:{color:ea.i$()},children:"Up to date"})]});if(!e)return(0,r.jsxs)(i.a,{flex:{direction:"row",alignItems:"center",gap:8},children:[(0,r.jsx)(el.In,{name:"warning",color:ea.Ym(),size:16}),(0,r.jsx)("span",{style:{color:ea.Vd()},children:"No state available"})]});{var a,l;if(e===t)return(0,r.jsxs)(i.a,{flex:{direction:"row",alignItems:"center",gap:8},children:[(0,r.jsx)(el.In,{name:"check_circle",color:ea.P$(),size:16}),(0,r.jsx)("span",{style:{color:ea.i$()},children:"Up to date"})]});let o=null==n||null==(a=n.keyStateInfo)?void 0:a.find(e=>(null==e?void 0:e.name)===s);return(0,r.jsxs)(i.a,{flex:{direction:"row",alignItems:"center",gap:8},children:[(0,r.jsx)(el.In,{name:"warning",color:ea.Ym(),size:16}),(0,r.jsx)("span",{style:{color:ea.Vd()},children:"Update available"}),(0,r.jsx)(h.v,{children:(0,r.jsx)(tw.w,{unixTimestamp:(null==o||null==(l=o.info)?void 0:l.createTimestamp)||0})})]})}})(l,o,a,t)})]},t)})})]})};function tI(){let e=(0,d._)(["\n  fragment DefsStateInfoFragment on DefsStateInfo {\n    keyStateInfo {\n      name\n      info {\n        version\n        createTimestamp\n        managementType\n      }\n    }\n  }\n"]);return tI=function(){return e},e}function tA(){let e=(0,d._)(["\n  query CodeLocationDefsStateQuery($locationName: String!) {\n    latestDefsStateInfo {\n      ...DefsStateInfoFragment\n    }\n    workspaceLocationEntryOrError(name: $locationName) {\n      ... on WorkspaceLocationEntry {\n        id\n        defsStateInfo {\n          ...DefsStateInfoFragment\n        }\n      }\n      ...PythonErrorFragment\n    }\n  }\n  ","\n  ","\n"]);return tA=function(){return e},e}let tP=(0,m.J1)(tI()),tT=(0,m.J1)(tA(),tP,x.z),tR=e=>{let{label:n,border:t=null}=e;return(0,r.jsx)(i.a,{background:ea.GW(),border:t,padding:{horizontal:24,vertical:8},children:(0,r.jsx)(u.R2,{children:n})})},tL=e=>{var n,t;let{locationName:o}=e,{data:a,loading:l}=(0,m.IT)(tT,{variables:{locationName:o},fetchPolicy:"cache-and-network"});if(l&&!a)return(0,r.jsx)(i.a,{padding:64,flex:{direction:"row",justifyContent:"center"},children:(0,r.jsx)(s.V,{label:"Loading defs state comparison…"})});let c=(null==a||null==(n=a.workspaceLocationEntryOrError)?void 0:n.__typename)==="WorkspaceLocationEntry"?a.workspaceLocationEntryOrError.defsStateInfo:null;if(!(null==c?void 0:c.keyStateInfo)||0===c.keyStateInfo.length)return null;let d=null!=(t=null==a?void 0:a.latestDefsStateInfo)?t:null;return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(tR,{label:"Defs state versions"}),(0,r.jsx)(tE,{latestDefsStateInfo:d,defsStateInfo:c})]})};var tO=t(58),tF=t(10513),tD=t(44403);let tM=e=>{var n;let{repoAddress:t,locationEntry:s}=e,a=(0,I.FC)(t),c=t.location,[d,p]=(0,l.useState)(!1),u=(0,l.useMemo)(()=>(0,tD.y3)(c),[c]),{reloading:h,tryReload:m}=(0,tD.MQ)({scope:"location",reloadFn:u});return(null==s||null==(n=s.locationOrLoadError)?void 0:n.__typename)==="PythonError"?(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(o.I,{icon:"error_outline",title:"Error loading code location",description:(0,r.jsxs)(i.a,{flex:{direction:"column",gap:12},style:{wordBreak:"break-word"},children:[(0,r.jsxs)("div",{children:["Code location ",(0,r.jsx)("strong",{children:a})," failed to load due to errors."]}),(0,r.jsx)("div",{children:(0,r.jsx)(Z.$n,{icon:(0,r.jsx)(el.In,{name:"error_outline"}),onClick:()=>p(!0),children:"View errors"})})]})}),(0,r.jsx)(tF.G,{location:c,isOpen:d,error:s.locationOrLoadError,reloading:h,onDismiss:()=>p(!1),onTryReload:()=>m()})]}):(0,r.jsx)(o.I,{icon:"code_location",title:"Code location not found",description:(0,r.jsxs)(i.a,{flex:{direction:"column",gap:12},style:{wordBreak:"break-word"},children:[(0,r.jsxs)("div",{children:["Code location ",(0,r.jsx)("strong",{children:a})," is not available in this workspace."]}),(0,r.jsxs)("div",{children:["Check your ",(0,r.jsx)(M.N_,{to:"/deployment",children:"deployment settings"})," for errors."]})]})})};var t$=t(30538),tH=t.n(t$);let tz="280px",tG=e=>{let{repoAddress:n,locationStatus:t,locationEntry:o}=e,{displayMetadata:s}=o||{},a=(0,l.useMemo)(()=>({image:(null==s?void 0:s.find(e=>{let{key:n}=e;return"image"===n}))||null}),[s]),c=(0,l.useMemo)(()=>tN.As(Object.fromEntries((s||[]).map(e=>{let{key:n,value:t}=e;return[n,t]}))),[s]),d=(0,l.useMemo)(()=>{var e;return(null==o||null==(e=o.locationOrLoadError)?void 0:e.__typename)==="RepositoryLocation"?null==o?void 0:o.locationOrLoadError.dagsterLibraryVersions:null},[o]),p=(0,tO.C)(),[h,m]=(0,l.useState)(!1),x=(0,l.useCallback)(()=>{let e=null;return a.image&&(p(a.image.value),m(!0),e=setTimeout(()=>{m(!1)},3e3)),()=>{e&&clearTimeout(e)}},[p,a.image]);return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(i.a,{padding:{horizontal:24},border:"bottom",children:(0,r.jsx)(eo,{selectedTab:"overview",repoAddress:n,locationEntry:o})}),(0,r.jsx)(tR,{label:"Details"}),(0,r.jsx)(tv.X,{style:{width:"100%",tableLayout:"fixed"},children:(0,r.jsxs)("tbody",{children:[(0,r.jsxs)("tr",{children:[(0,r.jsx)("td",{style:{width:tz,minWidth:tz,verticalAlign:"middle"},children:"Status"}),(0,r.jsx)("td",{children:(0,r.jsx)(ee.i,{locationStatus:t,locationOrError:o})})]}),(0,r.jsxs)("tr",{children:[(0,r.jsx)("td",{children:"Updated"}),(0,r.jsx)("td",{children:t?(0,r.jsx)("div",{style:{whiteSpace:"nowrap"},children:(0,r.jsx)(tw.w,{unixTimestamp:t.updateTimestamp})}):null})]}),a.image?(0,r.jsxs)("tr",{children:[(0,r.jsx)("td",{children:"Image"}),(0,r.jsx)("td",{style:{fontFamily:tS.a.monospace},children:(0,r.jsxs)("div",{className:tH().imageName,children:[(0,r.jsx)("span",{style:{marginRight:"4px"},children:a.image.value}),(0,r.jsx)(D.m,{content:h?"Copied!":"Click to copy image string",placement:"top",children:(0,r.jsx)(e9.N,{onClick:x,children:(0,r.jsx)(el.In,{name:h?"done":"copy",size:16})})})]})})]}):null]})}),(0,r.jsx)(tC,{locationName:n.location}),(null==d?void 0:d.length)?(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(tR,{label:"Libraries"}),(0,r.jsx)(tv.X,{children:(0,r.jsx)("tbody",{children:d.map(e=>(0,r.jsxs)("tr",{children:[(0,r.jsx)("td",{style:{width:tz},children:(0,r.jsx)(u.Kp,{children:e.name})}),(0,r.jsx)("td",{children:(0,r.jsx)(u.Kp,{children:e.version})})]},e.name))})})]}):null,(0,r.jsx)(tL,{locationName:n.location}),(0,r.jsx)(tb,{locationName:n.location}),(0,r.jsx)(tR,{label:"Metadata",border:"bottom"}),(0,r.jsx)(tq,{}),(0,r.jsx)("div",{style:{height:"320px"},children:(0,r.jsx)(t_.O,{options:{readOnly:!0,lineNumbers:!1},theme:["code-location-metadata"],value:c})})]})},tJ=e=>{let{repoAddress:n}=e,{locationEntries:t,locationStatuses:o,loadingNonAssets:a}=(0,l.useContext)(E.zp),c=t.find(e=>e.name===n.location),d=o[n.location];return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(en,{repoAddress:n}),(()=>{if(!c||!d){let e=(0,I.FC)(n);if(a)return(0,r.jsx)(i.a,{padding:64,flex:{direction:"row",justifyContent:"center"},children:(0,r.jsx)(s.V,{label:"Loading ".concat(e,"…")})});if(!c&&!d)return(0,r.jsx)(i.a,{padding:64,flex:{direction:"row",justifyContent:"center"},children:(0,r.jsx)(tM,{repoAddress:n,locationEntry:c||null})})}return(0,r.jsx)(tG,{repoAddress:n,locationEntry:c||null,locationStatus:d||null})})()]})},tq=(0,ed.DU)([".CodeMirror.cm-s-code-location-metadata.cm-s-code-location-metadata{background-color:",";padding:12px 20px;height:300px;}"],ea.Tr());var tB=t(36706),tV=t(89194),tK=t(59447);let tU=e=>{(0,j.b7)();let{repoAddress:n}=e,t=(0,c.W6)(),i=(0,c.zy)(),o=(0,c.g)()["0"],s=(0,l.useMemo)(()=>(0,S.iI)(o),[o]),a=(0,q.e)(),d=(0,tK.GK)(n),p=(0,tK.Ji)(d,s.pipelineName);(0,tV.J)(s,p),(0,S.lK)({pipelinePath:(0,S.ZG)(s)});let u=(0,l.useCallback)((e,r)=>{t[r]({search:i.search,pathname:(0,b.HG)(n,"/".concat(p?"jobs":"pipelines","/").concat((0,S.ZG)(e)))})},[t,i.search,n,p]),h=(0,l.useCallback)((e,n)=>{if(!n.jobName||!n.opNames.length||!n.repoAddress){let r=(0,z.Q)(n.assetKey,{view:"definition"});e.metaKey?a(r):t.push(r);return}t.replace({search:i.search,pathname:(0,b.HG)(n.repoAddress,"/jobs/".concat((0,S.ZG)((0,nl._)((0,na._)({},s),{opNames:[(0,J.e9)(n.assetKey)],opsQuery:"",pipelineName:n.jobName}))))})},[s,t,i.search,a]);return(0,r.jsx)(tB.Z1,{repoAddress:n,explorerPath:s,onChangeExplorerPath:u,onNavigateToSourceAssetNode:h})},tQ=e=>{let{repoAddress:n}=e;return(0,r.jsx)(tU,{repoAddress:n})};var tW=t(58342),tZ=t(53231);let tY=e=>{let{repoAddress:n}=e,t=(0,c.zy)(),{pipelinePath:i}=(0,c.g)(),{loadingNonAssets:o}=(0,l.useContext)(E.zp),{loading:s}=(0,l.useContext)(tW.KV),a=(0,tK.GK)(n);if((0,tZ.gS)("Workspace",!o),(0,tZ.gS)("Permissions",!s),o||s)return null;let{pipelineName:d}=(0,S.iI)(i),p=(0,tK.Ji)(a,d),{pathname:u,search:h}=t,m=u.replace("/pipeline_or_job/",p?"/jobs/":"/pipelines/");return(0,r.jsx)(c.rd,{to:"".concat(m).concat(h)})};var tX=t(31447),t0=t(24210),t1=t(11557),t3=t(83459),t6=t(78167);function t2(){let e=(0,d._)(["\n  query ConfigForRunQuery($runId: ID!) {\n    runOrError(runId: $runId) {\n      ... on Run {\n        id\n        mode\n        runConfigYaml\n        solidSelection\n      }\n      ...PythonErrorFragment\n    }\n  }\n\n  ","\n"]);return t2=function(){return e},e}let t4=e=>{let{repoAddress:n}=e,{permissions:{canLaunchPipelineExecution:t},loading:i}=(0,tW.S2)(n.location),{repoPath:o,pipelinePath:s,runId:a}=(0,c.g)();return((0,tZ.gS)("Permissions",!i),i)?null:t?(0,r.jsx)(t5,{pipelinePath:s,repoAddress:n,runId:a}):(0,r.jsx)(c.rd,{to:"/locations/".concat(o,"/pipeline_or_job/").concat(s)})},t5=e=>{let{pipelinePath:n,repoAddress:t,runId:i}=e,o=(0,S.iI)(n),{pipelineName:s}=o,a=(0,tK.GK)(t),l=(0,tK.Ji)(a,s);(0,tV.J)(o,l);let[d,p]=(0,t6.pN)(t,s),{data:u,loading:h}=(0,m.IT)(t7,{variables:{runId:i},onCompleted:e=>{let n=null==e?void 0:e.runOrError,t=(null==n?void 0:n.__typename)==="Run"?n:null;if(!t)return;let{runConfigYaml:r,mode:i,solidSelection:o}=t;if(!r&&!i&&!o)return;let s={name:"From run ".concat(t.id.slice(0,8))};"string"==typeof r&&(s.runConfigYaml=r),"string"==typeof i&&(s.mode=i);let a=null;o instanceof Array&&o.length>0?a=o:"string"==typeof o&&o&&(a=[o]),s.solidSelection=a,s.solidSelectionQuery=a?a.join(","):"*",p(e=>(0,t6.Bw)(e,s))}}),x=null==u?void 0:u.runOrError;return h?(0,r.jsx)(t3.b,{}):x&&"RunNotFoundError"!==x.__typename?"PythonError"===x.__typename?(0,r.jsx)(t1.z,{icon:"error",title:"Python error",description:x.message}):(0,r.jsx)(c.rd,{to:{pathname:(0,b.HG)(t,"/".concat(l?"jobs":"pipelines","/").concat(s,"/playground"))}}):(0,r.jsx)(t1.z,{icon:"error",title:"No run found",description:"The run with this ID does not exist or has been cleaned up."})},t7=(0,m.J1)(t2(),x.z),t8=e=>{let{repoAddress:n}=e,{permissions:{canLaunchPipelineExecution:t},loading:i}=(0,tW.S2)(n.location);(0,tZ.gS)("Permissions",!i);let{repoPath:o,pipelinePath:s}=(0,c.g)();return i?null:t?(0,r.jsx)(t9,{pipelinePath:s,repoAddress:n}):(0,r.jsx)(c.rd,{to:"/locations/".concat(o,"/pipeline_or_job/").concat(s)})},t9=e=>{let{pipelinePath:n,repoAddress:t}=e,i=(0,S.iI)(n),{pipelineName:o}=i,s=(0,tK.GK)(t),a=(0,tK.Ji)(s,o);(0,tV.J)(i,a);let[d,p]=(0,t6.pN)(t,o),u=eD().parse(window.location.search,{ignoreQueryPrefix:!0});return(0,l.useEffect)(()=>{if(u.config||u.mode||u.solidSelection||u.tags||u.assetSelection){let e={};"string"==typeof u.config&&(e.runConfigYaml=u.config),"string"==typeof u.mode&&(e.mode=u.mode),u.solidSelection instanceof Array&&u.solidSelection.length>0?e.solidSelection=u.solidSelection:"string"==typeof u.solidSelection&&u.solidSelection&&(e.solidSelection=[u.solidSelection]),"string"==typeof u.solidSelectionQuery&&(e.solidSelectionQuery=u.solidSelectionQuery),Array.isArray(u.tags)&&(e.tags=u.tags),Array.isArray(u.assetSelection)&&(e.assetSelection=u.assetSelection),p(n=>(0,t6.Bw)(n,e))}}),(0,r.jsx)(c.rd,{to:{pathname:(0,b.HG)(t,"/".concat(a?"jobs":"pipelines","/").concat(o,"/playground"))}})},re=["overview","playground","runs","partitions"],rn=e=>{let{repoAddress:n,isJob:t,explorerPath:i,matchingTab:o="",permissions:s,tabs:a}=e,c=(0,S.ZG)((0,nl._)((0,na._)({},i),{opNames:[]})),d=(0,l.useMemo)(()=>a.find(e=>e.pathComponent===o)||a.find(e=>""===e.pathComponent),[o,a]);return(0,r.jsx)(R.tU,{size:"large",selectedTabId:null==d?void 0:d.id,children:a.filter(e=>!e.isHidden).map(e=>{let{id:i,title:o,getPermissionsResult:a}=e,l=a?a(s):null,d=!!(l&&!l.enabled),p=l&&d?(0,r.jsx)(D.m,{content:l.disabledReason,placement:"top",children:o}):o,u=(0,b.HG)(n,"/".concat(t?"jobs":"pipelines","/").concat(c).concat(e.pathComponent));return d?(0,r.jsx)(R.oz,{disabled:!0,id:i,title:p},i):(0,r.jsx)(B.s,{id:i,title:p,disabled:d,to:u},i)})})};var rt=t(85184),rr=t(74016),ri=t(59018),ro=t.n(ri),rs=t(4533),ra=t(49575),rl=t(82036),rc=t(95510),rd=t(75310),rp=t(85521),ru=t(36561);function rh(){let e=(0,d._)(["\n  query LatestRunTagQuery($runsFilter: RunsFilter) {\n    pipelineRunsOrError(filter: $runsFilter, limit: 1) {\n      ... on Runs {\n        results {\n          id\n          status\n          ...RunTimeFragment\n        }\n      }\n    }\n  }\n\n  ","\n"]);return rh=function(){return e},e}let rm={showSeconds:!0,showTimezone:!1},rx=e=>{let{pipelineName:n,repoAddress:t}=e,o=(0,m.IT)(rj,{variables:{runsFilter:{pipelineName:n,tags:[{key:rc.d.RepositoryLabelTag,value:(0,I.DV)(t)}]}},notifyOnNetworkStatusChange:!0});(0,ra.Bj)(o,ra.eO);let s=(0,l.useMemo)(()=>{var e;let n=null==(e=o.data)?void 0:e.pipelineRunsOrError;return n&&"Runs"===n.__typename&&n.results[0]||null},[o]);if(!s)return null;let a={start:s.startTime,end:s.endTime,status:s.status};return(0,r.jsx)(h.v,{intent:(()=>{switch(s.status){case tk.i2_.SUCCESS:return"success";case tk.i2_.CANCELED:case tk.i2_.CANCELING:case tk.i2_.FAILURE:return"danger";default:return"none"}})(),children:(0,r.jsxs)(i.a,{flex:{direction:"row",alignItems:"center",gap:4},children:[(0,r.jsx)(rl.lQ,{status:s.status,size:10}),"Latest run:",a?(0,r.jsx)(D.m,{placement:"bottom",content:(0,r.jsx)(rs.Ic,{children:(0,r.jsxs)("tbody",{children:[(0,r.jsxs)("tr",{children:[(0,r.jsx)("td",{style:{color:ea._l()},children:(0,r.jsx)(i.a,{padding:{right:16},children:"Started"})}),(0,r.jsx)("td",{children:a.start?(0,r.jsx)(ru.J,{timestamp:a.start,timeFormat:rm}):(0,rd.VF)(a.status)})]}),(0,r.jsxs)("tr",{children:[(0,r.jsx)("td",{style:{color:ea._l()},children:"Ended"}),(0,r.jsx)("td",{children:a.end?(0,r.jsx)(ru.J,{timestamp:a.end,timeFormat:rm}):(0,rd.VF)(a.status)})]})]})}),children:(0,r.jsx)(M.N_,{to:"/runs/".concat(s.id),children:(0,r.jsx)(rp.X4,{run:s})})}):null]})})},rj=(0,m.J1)(rh(),rp.vw);var rg=t(44074),rf=t(22812),ry=t(79188);function rv(){let e=(0,d._)(["\n  query JobMetadataQuery($params: PipelineSelector!, $runsFilter: RunsFilter!) {\n    pipelineOrError(params: $params) {\n      ... on Pipeline {\n        id\n        ...JobMetadataFragment\n      }\n    }\n    assetNodes(pipeline: $params) {\n      id\n      ...JobMetadataAssetNode\n    }\n    pipelineRunsOrError(filter: $runsFilter, limit: 5) {\n      ... on PipelineRuns {\n        results {\n          id\n          ...RunMetadataFragment\n        }\n      }\n    }\n  }\n\n  fragment JobMetadataAssetNode on AssetNode {\n    id\n    automationCondition {\n      __typename\n    }\n    assetKey {\n      path\n    }\n  }\n\n  fragment JobMetadataFragment on Pipeline {\n    id\n    isJob\n    name\n    schedules {\n      id\n      mode\n      ...ScheduleSwitchFragment\n    }\n    sensors {\n      id\n      targets {\n        pipelineName\n        mode\n      }\n      ...SensorSwitchFragment\n    }\n  }\n\n  fragment RunMetadataFragment on PipelineRun {\n    id\n    status\n    assets {\n      id\n      key {\n        path\n      }\n    }\n    ...RunTimeFragment\n  }\n\n  ","\n  ","\n  ","\n"]);return rv=function(){return e},e}let rS=e=>{let{pipelineName:n,repoAddress:t}=e,i=function(e,n){let t=(0,m.IT)(rC,{variables:{runsFilter:{pipelineName:n,tags:[{key:rc.d.RepositoryLabelTag,value:(0,I.DV)(e)}]},params:{pipelineName:n,repositoryName:e.name,repositoryLocationName:e.location}}}).data;return(0,l.useMemo)(()=>({assetNodes:(null==t?void 0:t.assetNodes)||null,job:(null==t?void 0:t.pipelineOrError)&&"Pipeline"===t.pipelineOrError.__typename?t.pipelineOrError:null,runsForAssetScan:(null==t?void 0:t.pipelineRunsOrError)&&"Runs"===t.pipelineRunsOrError.__typename?t.pipelineRunsOrError.results:[]}),[t])}(t,n);return(0,r.jsxs)(r.Fragment,{children:[i.job?(0,r.jsx)(r_,{job:i.job,repoAddress:t}):null,(0,r.jsx)(rx,{pipelineName:n,repoAddress:t}),i.assetNodes&&i.assetNodes.some(e=>!!e.automationCondition)&&(0,r.jsx)(H,{}),i.runsForAssetScan?(0,r.jsx)(rb,{relatedAssets:function(e){return e.assetNodes?e.assetNodes.map(e=>(0,J.e9)(e.assetKey)):ro()(e.runsForAssetScan.flatMap(e=>e.assets.map(e=>(0,J.e9)(e.key))))}(i)}):null]})},r_=e=>{let{job:n,repoAddress:t}=e,i=(0,l.useMemo)(()=>(null==n?void 0:n.__typename)==="Pipeline"&&n.schedules.length?n.schedules:[],[n]),o=(0,l.useMemo)(()=>(null==n?void 0:n.__typename)==="Pipeline"&&n.sensors.length?n.sensors:[],[n]);return(0,r.jsx)(rg.L,{schedules:i,sensors:o,repoAddress:t})},rb=e=>{let{relatedAssets:n}=e,[t,o]=(0,l.useState)(!1);if(0===n.length)return null;if(1===n.length){let e=n[0];return(0,r.jsxs)(h.v,{icon:"asset",children:["Asset: ",(0,r.jsx)(M.N_,{to:"/assets/".concat(e),children:e})]})}return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(h.v,{icon:"asset",children:(0,r.jsx)(rt.v,{color:ea.Hv(),onClick:()=>o(!0),children:"View ".concat(n.length," assets")})}),(0,r.jsxs)(rr.lG,{title:"Related assets",canOutsideClickClose:!0,canEscapeKeyClose:!0,isOpen:t,onClose:()=>o(!1),style:{maxWidth:"80%",minWidth:"500px",width:"auto"},children:[n.map((e,t)=>(0,r.jsx)(i.a,{padding:{vertical:12,horizontal:20},border:t<n.length-1?"bottom":null,children:(0,r.jsx)(M.N_,{to:"/assets/".concat(e),style:{wordBreak:"break-word"},children:e},e)},e)),(0,r.jsx)(rr.Es,{topBorder:!0,children:(0,r.jsx)(Z.$n,{intent:"primary",onClick:()=>o(!1),children:"OK"})})]})]})},rC=(0,m.J1)(rv(),rf.M,ry.T,rp.vw),rN=e=>{let{repoAddress:n}=e,t=(0,tW.S2)(n.location),o=(0,c.W5)(["/locations/:repoPath/pipelines/:selector/:tab?","/locations/:repoPath/jobs/:selector/:tab?","/locations/:repoPath/pipeline_or_job/:selector/:tab?"]),s=(0,S.iI)(o.params.selector),{pipelineName:a,snapshotId:l}=s,d=(0,tK.GK)(n),m=null==d?void 0:d.repository.pipelines.find(e=>e.name===a),x=!!(null==m?void 0:m.isJob),j=!!(null==m?void 0:m.isAssetJob),g=(null==d?void 0:d.repository.partitionSets)||[],y=(e=>{let n=(e=>{let{hasLaunchpad:n,hasPartitionSet:t}=e;return{overview:{id:"overview",title:"Overview",pathComponent:""},playground:{id:"launchpad",title:"Launchpad",pathComponent:"playground",getPermissionsResult:e=>(0,tW.ds)(e,"canLaunchPipelineExecution"),isHidden:!n},runs:{id:"runs",title:"Runs",pathComponent:"runs"},partitions:{id:"partitions",title:"Partitions",pathComponent:"partitions",isHidden:!t}}})(e);return re.map(e=>n[e]).filter(e=>!!e&&!e.isHidden)})({hasLaunchpad:!j&&!(null==m?void 0:m.externalJobSource),hasPartitionSet:g.some(e=>e.pipelineName===a)});return(0,r.jsx)(r.Fragment,{children:(0,r.jsx)(p.z,{title:(0,r.jsxs)(u.M7,{style:{display:"flex",flexDirection:"row",gap:4},children:[(0,r.jsx)(M.N_,{to:"/jobs",children:"Jobs"}),(0,r.jsx)("span",{children:"/"}),a]}),tags:(0,r.jsxs)(i.a,{flex:{direction:"row",alignItems:"center",gap:8,wrap:"wrap"},children:[(0,r.jsxs)(h.v,{icon:"job",children:[x?"Job in ":"Pipeline in ",(0,r.jsx)(f.p,{repoAddress:n})]}),l?null:(0,r.jsx)(rS,{pipelineName:a,repoAddress:n})]}),tabs:(0,r.jsx)(rn,{repoAddress:n,isJob:x,explorerPath:s,permissions:t,matchingTab:o.params.tab,tabs:y})})})};var rk=t(95527),rw=t(26816),rE=t(68384),rI=t(56136),rA=t(21623);function rP(){let e=(0,d._)(["\n  fragment BackfillTableFragment on PartitionBackfill {\n    id\n    status\n    isAssetBackfill\n    isValidSerialization\n    numPartitions\n    timestamp\n    partitionSetName\n    partitionSet {\n      id\n      ...PartitionSetForBackfillTableFragment\n    }\n    assetSelection {\n      path\n    }\n    tags {\n      key\n      value\n    }\n    error {\n      ...PythonErrorFragment\n    }\n    ...BackfillActionsBackfillFragment\n  }\n\n  ","\n  ","\n  ","\n"]);return rP=function(){return e},e}let rT=e=>{let{showBackfillTarget:n=!0,allPartitions:t,backfills:i,refetch:o}=e,[s,a]=(0,l.useState)();return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsxs)(tv.X,{children:[(0,r.jsx)("thead",{children:(0,r.jsxs)("tr",{children:[(0,r.jsx)("th",{children:"Backfill ID"}),(0,r.jsx)("th",{children:"Created"}),n?(0,r.jsx)("th",{children:"Backfill target"}):null,(0,r.jsx)("th",{children:"Requested"}),(0,r.jsx)("th",{children:"Launched by"}),(0,r.jsx)("th",{children:"Backfill status"}),(0,r.jsx)("th",{style:{width:80}})]})}),(0,r.jsx)("tbody",{children:i.map(e=>(0,r.jsx)(rA.Nq,{showBackfillTarget:n,backfill:e,allPartitions:t,onShowPartitionsRequested:a,refetch:o},e.id))})]}),(0,r.jsx)(rI.e,{backfillId:s,onClose:()=>a(void 0)})]})},rR=(0,m.J1)(rP(),x.z,rE.jW,rE.lL);function rL(){let e=(0,d._)(["\n  query JobBackfillsQuery(\n    $partitionSetName: String!\n    $repositorySelector: RepositorySelector!\n    $cursor: String\n    $limit: Int\n  ) {\n    partitionSetOrError(\n      repositorySelector: $repositorySelector\n      partitionSetName: $partitionSetName\n    ) {\n      ... on PartitionSet {\n        id\n        pipelineName\n        backfills(cursor: $cursor, limit: $limit) {\n          id\n          ...BackfillTableFragment\n        }\n      }\n    }\n  }\n\n  ","\n"]);return rL=function(){return e},e}let rO=e=>{let{partitionSetName:n,partitionNames:t,repositorySelector:s,refetchCounter:a}=e,[c,d]=(0,l.useState)(()=>[]),[p,u]=(0,l.useState)(),h=(0,m.IT)(rF,{variables:{partitionSetName:n,repositorySelector:s,cursor:p,limit:10}}),x=h.refetch;return(0,l.useEffect)(()=>{a&&x()},[x,a]),(0,r.jsx)(_.R,{queryResult:h,children:e=>{let{partitionSetOrError:n}=e;if("PartitionSetNotFoundError"===n.__typename)return(0,r.jsx)(i.a,{margin:{vertical:20},children:(0,r.jsx)(o.I,{title:"Partition set not found.",icon:"no-results"})});if("PythonError"===n.__typename)return(0,r.jsx)(i.a,{margin:{vertical:20},children:(0,r.jsx)(o.I,{title:"An error occurred.",icon:"no-results"})});let{backfills:s,pipelineName:a}=n;if(!s.length)return(0,r.jsx)(i.a,{margin:{vertical:20},children:(0,r.jsx)(o.I,{title:"No backfills for ".concat(a),icon:"no-results"})});let l={hasPrevCursor:!!p,hasNextCursor:s&&10===s.length,popCursor:()=>{let e=[...c];u(e.pop()),d(e)},advanceCursor:()=>{p&&d(e=>[...e,p]);let e=s&&s[s.length-1].id;e&&u(e)},reset:()=>{d([]),u(void 0)}};return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(rT,{backfills:s,refetch:x,showBackfillTarget:!1,allPartitions:t}),(0,r.jsx)(rw.Hr,(0,na._)({},l))]})}})},rF=(0,m.J1)(rL(),rR);var rD=t(71599),rM=t(94675),r$=t(55304),rH=t(276),rz=t(14064),rG=t(48594);let rJ=e=>{let{counts:n,value:t,onChange:o,allowed:s,disabled:a}=e;return(0,r.jsx)(i.a,{flex:{direction:"row",alignItems:"center",gap:12},style:{overflow:"hidden"},children:s.map(e=>(0,r.jsx)(rM.S,{"data-testid":(0,rG.e)("run-status-".concat(e,"-checkbox")),disabled:a,style:{marginBottom:0,marginLeft:10,minWidth:200},checked:t.includes(e)&&!a,label:"".concat((0,rz.xY)(e)," (").concat(n[e],")"),onChange:()=>o(t.includes(e)?t.filter(n=>n!==e):[...t,e])},e))})};var rq=t(88742),rB=t(68026),rV=t(65056),rK=t(31591),rU=t(89748),rQ=t(36040),rW=t(30336),rZ=t(640),rY=t(35253);function rX(){let e=(0,d._)(["\n  query BackfillSelectorQuery($pipelineSelector: PipelineSelector!) {\n    pipelineSnapshotOrError(activePipelineSelector: $pipelineSelector) {\n      ... on PipelineSnapshot {\n        id\n        name\n        solidHandles {\n          handleID\n          solid {\n            name\n            definition {\n              name\n            }\n            inputs {\n              dependsOn {\n                solid {\n                  name\n                }\n              }\n            }\n            outputs {\n              dependedBy {\n                solid {\n                  name\n                }\n              }\n            }\n          }\n          ...GraphExplorerSolidHandleFragment\n        }\n      }\n    }\n    instance {\n      id\n      ...UsingDefaultLauncherAlertInstanceFragment\n      ...DaemonNotRunningAlertInstanceFragment\n    }\n  }\n\n  ","\n  ","\n  ","\n"]);return rX=function(){return e},e}let r0=e=>{let{partitionSetName:n,onLaunch:t,onCancel:s,onSubmit:a,repoAddress:c,runStatusData:d,refreshing:p,pipelineName:h,partitionNames:x}=e,[j,g]=l.useState(Object.keys(d).filter(e=>!d[e]||d[e]===tk.i2_.FAILURE)),[f,v]=l.useState([tk.i2_.NOT_STARTED,tk.i2_.FAILURE]),S=l.useMemo(()=>j.filter(e=>f.includes(d[e])),[j,f,d]),[_,b]=l.useState(!1),[C,N]=l.useState([]),[k,w]=l.useState(""),[E,I]=l.useState({reexecute:!1,fromFailure:!1}),A=(0,ei.n)(c),{data:P}=(0,m.IT)(r3,{variables:{pipelineSelector:(0,nl._)((0,na._)({},A),{pipelineName:h})},fetchPolicy:"network-only"}),T=l.useRef(!0);if(l.useEffect(()=>(T.current=!0,()=>{T.current=!1}),[t]),!P)return(0,r.jsx)(i.a,{margin:{vertical:32},flex:{justifyContent:"center"},children:(0,r.jsx)(rD.y,{purpose:"section"})});if("PipelineSnapshot"!==P.pipelineSnapshotOrError.__typename)return(0,r.jsx)(i.a,{margin:20,children:(0,r.jsx)(o.I,{icon:"error",title:"Could not fetch job details"})});let{pipelineSnapshotOrError:R,instance:L}=P,O=(0,y.$)(R.solidHandles).map(e=>e.solid),F=(0,rq.Q)(O,k),M=(0,rK.XV)({nodes:F.all,mode:rV.O8.FLAT}).boxes.map(e=>({x:e.x,name:e.node.name})),$=e=>d[e]===tk.i2_.FAILURE,H=x.filter($),z=function(e){let n={[tk.i2_.SUCCESS]:0,[tk.i2_.NOT_STARTED]:0,[tk.i2_.FAILURE]:0,[tk.i2_.QUEUED]:0,[tk.i2_.STARTED]:0};for(let t of e)n[t.state]=(n[t.state]||0)+1;return n}(j.map(e=>({partitionKey:e,state:d[e]})));return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(rr.R4,{children:(0,r.jsxs)(i.a,{flex:{direction:"column",gap:24},children:[(0,r.jsxs)(r6,{title:(0,r.jsxs)(i.a,{flex:{justifyContent:"space-between"},children:[(0,r.jsx)("div",{children:"Partitions"}),p&&(0,r.jsxs)(i.a,{flex:{gap:4,alignItems:"center"},children:[(0,r.jsx)(rD.y,{purpose:"body-text"}),(0,r.jsx)(u.jz,{color:ea.XN(),children:"Refreshing..."})]})]}),children:[(0,r.jsx)(i.a,{children:"Select partitions to materialize. Click and drag to select a range on the timeline."}),(0,r.jsx)(rH.x,{selected:j,setSelected:e=>{let n=new Set(e);g(x.filter(e=>n.has(e))),E.fromFailure&&e.filter(e=>!$(e)).length>0&&I((0,nl._)((0,na._)({},E),{fromFailure:!1}))},health:{runStatusForPartitionKey:e=>d[e]},partitionKeys:x,dimensionType:(0,rB.nN)(x[0])?tk.WsY.TIME_WINDOW:tk.WsY.STATIC,showQuickSelectOptionsForStatuses:!1}),(0,r.jsx)(rJ,{value:f,onChange:v,counts:z,allowed:E.fromFailure?[tk.i2_.FAILURE]:[tk.i2_.NOT_STARTED,tk.i2_.FAILURE,tk.i2_.QUEUED,tk.i2_.STARTED,tk.i2_.SUCCESS]})]}),H.length?(0,r.jsx)(r6,{title:"Reexecution",children:(0,r.jsx)(rM.S,{checked:E.fromFailure,disabled:!S.every($),onChange:()=>{let e=(0,nl._)((0,na._)({},E),{fromFailure:!E.fromFailure,reexecute:!E.reexecute});e.fromFailure&&v([tk.i2_.FAILURE]),w(""),I(e)},label:(0,r.jsxs)(i.a,{flex:{display:"inline-flex",alignItems:"center"},children:[(0,r.jsx)(i.a,{margin:{right:4},children:"Re-execute from failures"}),(0,r.jsx)(D.m,{placement:"top",content:"For each partition, if the most recent run failed, launch a re-execution starting from the steps that failed. Only applies for selections of failed partitions.",children:(0,r.jsx)(el.In,{name:"info",color:ea.fR()})})]})})}):null,(0,r.jsx)(r6,{title:(0,r.jsxs)(i.a,{flex:{display:"inline-flex",alignItems:"center"},children:[(0,r.jsx)(i.a,{margin:{right:4},children:"Step subset"}),(0,r.jsx)(D.m,{placement:"top",content:"Applies a step-selection to each run for the requested partitions.",children:(0,r.jsx)(el.In,{name:"info",color:ea.fR()})})]}),children:(0,r.jsxs)(i.a,{flex:{direction:"row",alignItems:"center",gap:12},children:[(0,r.jsx)(rY.x,{disabled:E.fromFailure,width:520,items:O,value:k,placeholder:"Type a step subset",onChange:w,autoApplyChanges:!0}),k?(0,r.jsxs)("div",{style:{color:ea.XN()},children:[M.length," step",1===M.length?"":"s"," selected"]}):null]})}),(0,r.jsxs)(r6,{title:"Tags",children:[(0,r.jsx)(rW.yN,{tagsFromSession:C,onChange:N,open:_,onRequestClose:()=>b(!1)}),C.length?(0,r.jsx)("div",{style:{border:"1px solid ".concat(ea.hN()),borderRadius:8,padding:3},children:(0,r.jsx)(rW.Im,{tagsFromSession:C,onRequestEdit:()=>b(!0)})}):(0,r.jsx)("div",{children:(0,r.jsx)(Z.$n,{onClick:()=>b(!0),children:"Add tags to backfill runs"})})]}),(0,r.jsxs)(i.a,{flex:{direction:"column",gap:16},children:[(0,r$.cL)(L)?null:(0,r.jsx)(r$.jn,{}),(0,r.jsx)(r$.cS,{instance:L})]})]})}),(0,r.jsxs)(rr.Es,{children:[(0,r.jsx)(Z.$n,{intent:"none",onClick:s,children:"Cancel"}),(0,r.jsx)(r1,{partitionNames:S,partitionSetName:n,reexecutionSteps:!E.fromFailure&&F.all.length<O.length?M.map(e=>e.name):void 0,fromFailure:E.fromFailure,tags:C,onSubmit:a,onSuccess:e=>{(0,r$.oL)(e),null==t||t(e,k)},onError:e=>{(0,r$.ro)(e)},repoAddress:c})]})]})},r1=e=>{let{partitionSetName:n,partitionNames:t,reexecutionSteps:i,fromFailure:o,tags:s,onSuccess:a,onError:c,onSubmit:d,repoAddress:p}=e,u=(0,ei.n)(p),h=l.useRef(!0),[x,{loading:j}]=(0,m.n_)(rU.g);l.useEffect(()=>(h.current=!0,()=>{h.current=!1}),[a]);let g=async()=>{d();let{data:e}=await x({variables:{backfillParams:{selector:{partitionSetName:n,repositorySelector:u},partitionNames:t,reexecutionSteps:i,fromFailure:o,tags:(0,rZ.hY)(s)}}});h.current&&(e&&"LaunchBackfillSuccess"===e.launchPartitionBackfill.__typename?null==a||a(e.launchPartitionBackfill.backfillId,!1):null==c||c(e))},f=t.length,y=null==i?void 0:i.length,v=[j?"Submitting ".concat(f," ").concat(1===f?"run":"runs","…"):f?"Submit ".concat(f," ").concat(1===f?"run":"runs"):"Select partitions to submit",!j&&y?"(".concat(y," selected ").concat(1===y?"step":"steps",")"):""].join(" ");return(0,r.jsx)(rQ.Y,{runCount:f,config:{title:v,icon:"open_in_new",disabled:!f||j,onClick:g}})},r3=(0,m.J1)(rX(),v.zO,r$.J4,r$.A9),r6=e=>{let{title:n,children:t}=e;return(0,r.jsxs)(i.a,{flex:{direction:"column",gap:4},children:[(0,r.jsx)(u.R2,{children:n}),(0,r.jsx)(i.a,{flex:{direction:"column",gap:8},padding:{top:16},border:"top",children:t})]})};var r2=t(87474),r4=t(62317),r5=t(75712);r2.t1.register(r2.kc,r2.PP);let r7=l.memo(e=>{let{partitionNames:n,jobDataByPartition:t,stepDataByPartition:s,title:a,yLabel:c,isJob:d,hiddenStepKeys:p}=e,[u,h]=(0,l.useState)(()=>({})),m=(0,l.useRef)(null),x=(0,r5.l)(),[j,g]=(0,l.useState)(n.length>1e3),f=j&&n.length>1e3,y=(0,l.useCallback)(e=>{let n=m.current;if(!n)return;let t=n.scales["x-axis-0"];if(!t)return;let r=e.native;if(!(r instanceof MouseEvent))return;let{offsetX:i,offsetY:o}=r;if(!("click"===r.type&&i<=n.chartArea.right&&i>=n.chartArea.left&&o<=n.chartArea.bottom&&o>=n.chartArea.top)||!r.shiftKey)return;let s=t.getValueForPixel(i),a=n.data.labels[s];h(e=>(0,nl._)((0,na._)({},e),{[a]:!e[a]}))},[]),v=(0,l.useMemo)(()=>f?null:{title:a?{display:!0,text:a}:void 0,animation:!1,scales:c?{y:{id:"y",title:{display:!0,text:c,color:x[ea._l()]},grid:{color:x[ea.KH()]},ticks:{color:x[ea._l()],font:{size:12,family:tS.a.monospace}}},x:{id:"x",title:{display:!0,text:a,color:x[ea._l()]},grid:{color:x[ea.KH()]},ticks:{color:x[ea._l()],font:{size:12,family:tS.a.monospace}}}}:void 0,plugins:{legend:{display:!1,onClick:(e,n)=>{}}},onClick:y,maintainAspectRatio:!1},[y,x,f,a,c]),{jobData:S,stepData:_}=(0,l.useMemo)(()=>{if(f)return{jobData:[],stepData:{}};let e=[],r={};return n.forEach(n=>{let i=!!u[n];t&&e.push({x:n,y:i?void 0:t[n]}),s&&Object.entries(s[n]||{}).forEach(e=>{let[t,o]=e;(null==p||!p.includes(t))&&o&&(r[t]=[...r[t]||[],{x:n,y:i?void 0:o}])})}),Object.keys(r).forEach(e=>{r[e]=r8(n,r[e])}),{jobData:e,stepData:r}},[u,p,t,n,f,s]),b=d?"Total job":"Total pipeline",C=(0,l.useMemo)(()=>f?null:{labels:n,datasets:[...!t||p&&p.includes(b)?[]:[{label:b,data:S,borderColor:x[ea.hN()],backgroundColor:x[ea.Tq()]}],...Object.keys(_).map(e=>({label:e,data:_[e],borderColor:(0,eS.m6)(e),backgroundColor:x[ea.Tq()]}))]},[b,p,S,t,n,x,f,_]);return C&&v?(0,r.jsx)(r9,{children:(0,r.jsx)(r4.N1,{data:C,height:300,options:v,ref:m})}):(0,r.jsx)(o.I,{icon:"warning",title:"Large number of data points",description:(0,r.jsxs)(i.a,{flex:{direction:"column",gap:8},children:["There are ",ni.Eg.format(n.length)," datapoints in this graph. This might crash the browser.",(0,r.jsx)("div",{children:(0,r.jsx)(Z.$n,{intent:"primary",onClick:()=>{g(!1)},children:"Show anyway"})})]})})}),r8=(e,n)=>{let t={};return n.forEach(e=>{t[e.x]=e.y}),e.map(e=>({x:e,y:t[e]}))},r9=ed.Ay.div.withConfig({componentId:"sc-902d6963-0"})(["display:flex;color:",";padding:24px 12px;text-decoration:none;"],ea.XN());var ie=t(83406),it=t(67477),ir=t(14573),ii=t(93055);function io(){let e=(0,d._)(["\n  query PartitionsStatusQuery(\n    $partitionSetName: String!\n    $repositorySelector: RepositorySelector!\n  ) {\n    partitionSetOrError(\n      repositorySelector: $repositorySelector\n      partitionSetName: $partitionSetName\n    ) {\n      ... on PartitionSet {\n        id\n        ...OpJobPartitionSet\n      }\n      ... on PartitionSetNotFoundError {\n        message\n      }\n      ...PythonErrorFragment\n    }\n  }\n\n  fragment OpJobPartitionSet on PartitionSet {\n    id\n    name\n    pipelineName\n    partitionsOrError {\n      ... on Partitions {\n        results {\n          name\n        }\n      }\n      ...PythonErrorFragment\n    }\n    partitionStatusesOrError {\n      ... on PartitionStatuses {\n        results {\n          id\n          ...OpJobPartitionStatus\n        }\n      }\n      ...PythonErrorFragment\n    }\n  }\n\n  fragment OpJobPartitionStatus on PartitionStatus {\n    id\n    partitionName\n    runStatus\n    runDuration\n  }\n\n  ","\n"]);return io=function(){return e},e}let is=new Map,ia=l.memo(e=>{let{partitionSetName:n,repoAddress:t}=e,s=(0,ei.n)(t),a=(0,l.useMemo)(()=>({partitionSetName:n,repositorySelector:s}),[n,s]),c=(0,l.useMemo)(()=>JSON.stringify(a),[a]),d=(0,l.useMemo)(()=>is.get(c),[c]),p=(0,m.IT)(ip,{variables:{partitionSetName:n,repositorySelector:s},notifyOnNetworkStatusChange:!0,fetchPolicy:"no-cache"});(0,l.useLayoutEffect)(()=>{p&&is.set(c,p)},[c,p]);let{data:u,loading:h}=p.data?p:null!=d?d:p;if(!u)return h?(0,r.jsx)(i.a,{padding:32,flex:{direction:"column",alignItems:"center"},children:(0,r.jsxs)(i.a,{flex:{direction:"row",gap:8,alignItems:"center"},children:[(0,r.jsx)(rD.y,{purpose:"body-text"}),(0,r.jsx)("div",{children:"Loading partitions…"})]})}):(0,r.jsx)(i.a,{padding:32,children:(0,r.jsx)(o.I,{icon:"error",title:"An error occurred",description:"An unexpected error occurred."})});let{partitionSetOrError:x}=u;if("PartitionSetNotFoundError"===x.__typename)return(0,r.jsx)(i.a,{padding:32,children:(0,r.jsx)(o.I,{icon:"search",title:"Partition set not found",description:x.message})});if("PythonError"===x.__typename)return(0,r.jsx)(i.a,{padding:32,children:(0,r.jsx)(eE.Bf,{error:x})});if("PythonError"===x.partitionsOrError.__typename)return(0,r.jsx)(i.a,{padding:32,children:(0,r.jsx)(eE.Bf,{error:x.partitionsOrError})});let j=x.partitionsOrError.results.map(e=>{let{name:n}=e;return n});return(0,r.jsx)(ic,{partitionNames:j,partitionSet:x,repoAddress:t,partitionsQueryResult:p})});function il(e){return(0,l.useMemo)(()=>{let n={},t={};return e.forEach(e=>{if(!e.runsLoaded||0===e.runs.length)return;let r=e.runs.sort((e,n)=>e.startTime||0-(n.startTime||0)),i=r[r.length-1];n[e.name]={},t[e.name]=(null==i?void 0:i.endTime)&&(null==i?void 0:i.startTime)?i.endTime-i.startTime:void 0,i.stepStats.forEach(t=>{n[e.name][t.stepKey]=[t.endTime&&t.startTime?t.endTime-t.startTime:void 0]})}),{runDurationData:t,stepDurationData:n}},[e])}let ic=l.memo(e=>{let{partitionSet:n,partitionNames:t,repoAddress:o,partitionsQueryResult:s}=e,{permissions:{canLaunchPartitionBackfill:a},disabledReasons:c}=(0,tW.S2)(o.location),{viewport:d,containerProps:p}=(0,rk.k)(),[h,m]=(0,l.useState)(60),[x,j]=(0,l.useState)(0),[g,f]=(0,l.useState)(!1),[y,v]=(0,l.useState)(!1),[S,_]=(0,l.useState)(!1),b=(0,ei.n)(o),[C,N]=(0,l.useState)(0),k=(0,ii.i)({partitionSetName:n.name,partitionTagName:rc.d.Partition,partitionNames:t,pageSize:h,runsFilter:[],repositorySelector:b,jobName:n.pipelineName,offset:x,skipQuery:!g});(0,l.useEffect)(()=>{d.width&&!g&&m((0,it.vE)(d.width-ir.FP))},[d.width,g,m]);let w=(0,l.useMemo)(()=>g?t.slice(Math.max(0,t.length-1-x-h),t.length-x):t,[x,h,t,g]),E=il(k).stepDurationData,I=(0,l.useCallback)(()=>_(!0),[]),A=(0,l.useMemo)(()=>new Set(w),[w]),{partitionStatusesOrError:P}=n,T=(0,l.useMemo)(()=>"PartitionStatuses"===P.__typename?P.results:[],[P]),{runStatusData:R,runDurationData:L}=(0,l.useMemo)(()=>{let e={},n={};return T.forEach(t=>{e[t.partitionName]=t.runStatus||tk.i2_.NOT_STARTED,A.has(t.partitionName)&&(n[t.partitionName]=t.runDuration||void 0)}),{runStatusData:e,runDurationData:n}},[T,A]),O=(0,l.useMemo)(()=>({runStatusForPartitionKey:e=>R[e]}),[R]);return(0,r.jsxs)("div",{children:[(0,r.jsx)(rr.lG,{canEscapeKeyClose:!S,canOutsideClickClose:!S,onClose:()=>v(!1),style:{width:800,zIndex:1e3},title:"Launch ".concat(n.pipelineName," backfill"),isOpen:y,children:y&&(0,r.jsx)(r0,{partitionSetName:n.name,partitionNames:t,runStatusData:R,refreshing:s.loading,pipelineName:n.pipelineName,onCancel:()=>v(!1),onLaunch:(e,n)=>{N(C+1),v(!1)},onSubmit:I,repoAddress:o})}),(0,r.jsxs)(i.a,{flex:{justifyContent:"space-between",direction:"row",alignItems:"center"},border:"bottom",padding:{vertical:16,horizontal:24},children:[(0,r.jsx)(u.R2,{children:"Status"}),(0,r.jsxs)(i.a,{flex:{gap:8},children:[(0,r.jsx)(Z.$n,{onClick:()=>f(!g),children:g?"Hide per-step status":"Show per-step status"}),(0,r.jsx)(Z.$n,{onClick:()=>s.refetch(),loading:s.loading,disabled:s.loading,children:"Refresh"}),a?(0,r.jsx)(Z.$n,{icon:(0,r.jsx)(el.In,{name:"add_circle"}),onClick:()=>{s.refetch(),v(!y)},children:"Launch backfill…"}):(0,r.jsx)(D.m,{content:c.canLaunchPartitionBackfill,children:(0,r.jsx)(Z.$n,{icon:(0,r.jsx)(el.In,{name:"add_circle"}),disabled:!0,children:"Launch backfill…"})})]})]}),(0,r.jsxs)(i.a,{flex:{direction:"row",alignItems:"center"},border:"bottom",padding:{left:8},children:[(0,r.jsx)(id,{count:t.length,label:"Total partitions"}),(0,r.jsx)(id,{count:(0,l.useMemo)(()=>t.filter(e=>R[e]===tk.i2_.FAILURE).length,[t,R]),label:"Failed partitions"}),(0,r.jsx)(id,{count:(0,l.useMemo)(()=>t.filter(e=>!R[e]||R[e]===tk.i2_.NOT_STARTED).length,[t,R]),label:"Missing partitions"})]}),(0,r.jsxs)(i.a,{padding:{vertical:16,horizontal:24},children:[(0,r.jsx)("div",(0,nl._)((0,na._)({},p),{children:(0,r.jsx)(ie.P,{partitionNames:t,health:O,selected:g?w:void 0,selectionWindowSize:h,onClick:(0,l.useCallback)(e=>{let n=t.length-1;j(Math.min(n,Math.max(0,n-t.indexOf(e)-.5*h))),g||f(!0)},[h,t,g]),tooltipMessage:"Click to view per-step status"})})),g?(0,r.jsx)(i.a,{margin:{top:16},children:(0,r.jsx)(it.Ju,{partitionNames:t,partitions:k,pipelineName:n.pipelineName,repoAddress:o,setPageSize:m,offset:x,setOffset:j})}):null]}),(0,r.jsx)(i.a,{padding:{horizontal:24,vertical:16},border:"top-and-bottom",children:(0,r.jsx)(u.R2,{children:"Run duration"})}),(0,r.jsx)(i.a,{margin:24,children:(0,r.jsx)(r7,{isJob:!0,title:"Execution time by partition",yLabel:"Execution time (secs)",partitionNames:g?w:t,jobDataByPartition:L})}),g?(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(i.a,{padding:{horizontal:24,vertical:16},children:(0,r.jsx)(u.R2,{children:"Step duration"})}),(0,r.jsx)(i.a,{margin:24,children:(0,r.jsx)(r7,{isJob:!0,title:"Execution time by partition",yLabel:"Execution time (secs)",partitionNames:w,stepDataByPartition:E})})]}):null,(0,r.jsx)(i.a,{padding:{horizontal:24,vertical:16},border:"top-and-bottom",style:{marginBottom:-1},children:(0,r.jsx)(u.R2,{children:"Backfill history"})}),(0,r.jsx)(i.a,{margin:{bottom:20},children:(0,r.jsx)(rO,{partitionSetName:n.name,repositorySelector:b,partitionNames:t,refetchCounter:C})})]})}),id=e=>{let{count:n,label:t}=e;return(0,r.jsxs)(i.a,{padding:16,style:{flex:1},border:"right",children:[(0,r.jsx)("div",{style:{fontSize:18,marginBottom:4},children:(0,r.jsx)("strong",{children:n})}),(0,r.jsx)("div",{children:t})]})},ip=(0,m.J1)(io(),x.z);var iu=t(58569),ih=t(68007),im=t(51500),ix=t(67476),ij=t(64927);let ig=l.memo(e=>{let{partitionSetName:n,repoAddress:t,pipelineName:o}=e,{viewport:s,containerProps:a}=(0,rk.k)(),c=(0,ei.n)(t),d=(0,l.useMemo)(()=>({pipelineName:o,repositoryName:t.name,repositoryLocationName:t.location}),[o,t.location,t.name]),p=(0,ih.Ex)("*",{pipelineSelector:d}),h=(0,l.useMemo)(()=>p.graphAssetKeys.filter(e=>{var n,t;return null==(t=p.assetGraphData)||null==(n=t.nodes[(0,J.tQ)(e)])?void 0:n.definition.isPartitioned}),[p]),m=(0,ij.gN)(h.length?h:p.graphAssetKeys[0]?[p.graphAssetKeys[0]]:[]),{total:x,missing:j,merged:g}=(0,l.useMemo)(()=>{let e=(0,rB.bl)(m.filter(e=>e.dimensions.length>0)),n=e.dimensions.map(e=>({selectedKeys:e.partitionKeys,selectedRanges:[(0,iu.EF)(e)],dimension:e})),t=(0,rB.OE)(n,n=>e.stateForKeyIdx(n).includes(im.$r.MISSING));return{merged:e,total:(0,ij.jc)(n),missing:t.length}},[m]),[f,y]=(0,l.useState)(60),[v,S]=(0,l.useState)(0),[_,b]=(0,l.useState)(!1);(0,l.useEffect)(()=>{s.width&&y((0,it.vE)(s.width-ir.FP))},[s.width,y]);let{selectedDimensionKeys:C,dimensionIdx:N,dimension:k,dimensionKeys:w}=(0,l.useMemo)(()=>{let e=g.dimensions.findIndex(rB.hn);-1===e&&(e=0);let n=g.dimensions[e]?g.dimensions[e]:null,t=(null==n?void 0:n.partitionKeys)||[];return{selectedDimensionKeys:t.slice(Math.max(0,t.length-1-v-f),t.length-v),dimensionIdx:e,dimension:n,dimensionKeys:t}},[g.dimensions,v,f]);return(0,r.jsxs)("div",{children:[(0,r.jsxs)(i.a,{flex:{justifyContent:"space-between",direction:"row",alignItems:"center"},border:"bottom",padding:{vertical:16,horizontal:24},children:[(0,r.jsx)(u.R2,{children:"Status"}),(0,r.jsxs)(i.a,{flex:{gap:8},children:[(0,r.jsx)(Z.$n,{onClick:()=>b(!_),children:_?"Hide per-asset status":"Show per-asset status"}),(0,r.jsx)(ix.Ix,{scope:{all:p.graphQueryItems.map(e=>e.node),skipAllTerm:!0},preferredJobName:o})]})]}),(0,r.jsxs)(i.a,{flex:{direction:"row",alignItems:"center"},border:"bottom",padding:{left:8},children:[(0,r.jsx)(id,{count:x,label:"Total partitions"}),(0,r.jsx)(id,{count:j,label:"Missing partitions"})]}),(0,r.jsxs)(i.a,{padding:{vertical:16,horizontal:24},children:[(0,r.jsx)("div",(0,nl._)((0,na._)({},a),{children:(0,r.jsx)(ie.P,{partitionNames:w,splitPartitions:!!k&&!(0,rB.hn)(k),health:{ranges:g.rangesForSingleDimension(N)},selected:C,selectionWindowSize:f,tooltipMessage:"Click to view per-asset status",onClick:e=>{let n=w.length-1;S(Math.min(n,Math.max(0,n-w.indexOf(e)-.5*f)))}})})),_&&k&&(0,r.jsx)(i.a,{margin:{top:16},children:(0,r.jsx)(it.S7,{rangeDimensionIdx:N,rangeDimension:k,assetHealth:m,assetQueryItems:p.graphQueryItems,pipelineName:o,setPageSize:y,offset:v,setOffset:S})})]}),_&&(0,r.jsx)(iy,{repositorySelector:c,pipelineName:o,partitionSetName:n,multidimensional:((null==g?void 0:g.dimensions.length)||0)>1,dimensionName:k?k.name:null,dimensionKeys:w,selected:C,offset:v,pageSize:f}),(0,r.jsx)(i.a,{padding:{horizontal:24,vertical:16},border:"top-and-bottom",style:{marginBottom:-1},children:(0,r.jsx)(u.R2,{children:"Backfill history"})}),(0,r.jsx)(i.a,{margin:{bottom:20},children:(0,r.jsx)(rO,{partitionSetName:n,repositorySelector:c,partitionNames:w,refetchCounter:1})})]})}),iy=l.memo(e=>{let{repositorySelector:n,dimensionKeys:t,dimensionName:o,selected:s,pageSize:a,partitionSetName:l,multidimensional:c,pipelineName:d,offset:p}=e,h=(0,ii.i)({partitionSetName:l,partitionTagName:c?"".concat(rc.d.Partition,"/").concat(o):rc.d.Partition,partitionNames:t,repositorySelector:n,pageSize:a,runsFilter:[],jobName:d,offset:p,skipQuery:!o}),{stepDurationData:m,runDurationData:x}=il(h);return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(i.a,{padding:{horizontal:24,vertical:16},border:"top-and-bottom",children:(0,r.jsx)(u.R2,{children:"Run duration"})}),(0,r.jsx)(i.a,{margin:24,children:(0,r.jsx)(r7,{isJob:!0,title:"Execution time by partition",yLabel:"Execution time (secs)",partitionNames:s,jobDataByPartition:x})}),(0,r.jsx)(i.a,{padding:{horizontal:24,vertical:16},border:"top-and-bottom",children:(0,r.jsx)(u.R2,{children:"Step durations"})}),(0,r.jsx)(i.a,{margin:24,children:(0,r.jsx)(r7,{isJob:!0,title:"Execution time by partition",yLabel:"Execution time (secs)",partitionNames:s,stepDataByPartition:m})})]})});function iv(){let e=(0,d._)(["\n  query AssetJobPartitionSetsQuery(\n    $pipelineName: String!\n    $repositoryName: String!\n    $repositoryLocationName: String!\n  ) {\n    partitionSetsOrError(\n      pipelineName: $pipelineName\n      repositorySelector: {\n        repositoryName: $repositoryName\n        repositoryLocationName: $repositoryLocationName\n      }\n    ) {\n      ... on PipelineNotFoundError {\n        message\n      }\n      ... on PartitionSets {\n        results {\n          id\n          name\n          mode\n          solidSelection\n        }\n      }\n      ...PythonErrorFragment\n    }\n  }\n\n  ","\n"]);return iv=function(){return e},e}let iS=(0,m.J1)(iv(),x.z),i_=e=>{let{repoAddress:n}=e,t=(0,c.g)(),{pipelinePath:s}=t,a=(0,S.iI)(s),{pipelineName:d}=a,p=(0,tK.GK)(n),u=null==p?void 0:p.repository.pipelines.find(e=>e.name===d),h=!!(null==u?void 0:u.isJob),x=!!(null==u?void 0:u.isAssetJob);(0,tV.J)(a,h),(0,S.lK)(t);let{partitionSet:j,partitionSetError:g}=function(e,n){let{data:t}=(0,m.IT)(iS,{skip:!n,variables:{repositoryLocationName:e.location,repositoryName:e.name,pipelineName:n}});return(0,l.useMemo)(()=>({partitionSet:(null==t?void 0:t.partitionSetsOrError.__typename)==="PartitionSets"?t.partitionSetsOrError.results[0]:void 0,partitionSetError:(null==t?void 0:t.partitionSetsOrError.__typename)==="PipelineNotFoundError"||(null==t?void 0:t.partitionSetsOrError.__typename)==="PythonError"?t.partitionSetsOrError:void 0}),[t])}(n,d);return j||g?g?(0,r.jsx)(i.a,{padding:{vertical:64},children:(0,r.jsx)(o.I,{icon:"error",title:"Partitions",description:g.message})}):j?x?(0,r.jsx)(ig,{pipelineName:d,partitionSetName:j.name,repoAddress:n}):(0,r.jsx)(ia,{partitionSetName:j.name,repoAddress:n}):(0,r.jsx)(i.a,{padding:{vertical:64},children:(0,r.jsx)(o.I,{icon:"error",title:"Partitions",description:(0,r.jsxs)("div",{children:["There are no partition sets defined for ",h?"job":"pipeline"," ",(0,r.jsx)("code",{children:d}),"."]})})}):(0,r.jsx)(_.k,{purpose:"page"})},ib=e=>{let{repoAddress:n}=e;return(0,r.jsxs)("div",{style:{display:"flex",flexDirection:"column",minWidth:0,width:"100%",height:"100%"},children:[(0,r.jsx)(rN,{repoAddress:n}),(0,r.jsxs)(c.dO,{children:[(0,r.jsx)(P.q,{path:"/locations/:repoPath/pipeline_or_job/:pipelinePath(/?.*)",children:(0,r.jsx)(tY,{repoAddress:n})}),(0,r.jsx)(P.q,{path:["/locations/:repoPath/pipelines/:pipelinePath/playground/setup","/locations/:repoPath/jobs/:pipelinePath/playground/setup"],children:(0,r.jsx)(t8,{repoAddress:n})}),(0,r.jsx)(P.q,{path:["/locations/:repoPath/pipelines/:pipelinePath/playground/setup-from-run/:runId","/locations/:repoPath/jobs/:pipelinePath/playground/setup-from-run/:runId"],children:(0,r.jsx)(t4,{repoAddress:n})}),(0,r.jsx)(P.q,{path:["/locations/:repoPath/pipelines/:pipelinePath/playground","/locations/:repoPath/jobs/:pipelinePath/playground"],children:(0,r.jsx)(t0.rD,{repoAddress:n})}),(0,r.jsx)(P.q,{path:["/locations/:repoPath/pipelines/:pipelinePath/runs/:runId","/locations/:repoPath/jobs/:pipelinePath/runs/:runId"],render:e=>(0,r.jsx)(c.rd,{to:"/runs/".concat(e.match.params.runId)})}),(0,r.jsx)(P.q,{path:["/locations/:repoPath/pipelines/:pipelinePath/runs","/locations/:repoPath/jobs/:pipelinePath/runs"],children:(0,r.jsx)(tX.n,{repoAddress:n})}),(0,r.jsx)(P.q,{path:["/locations/:repoPath/pipelines/:pipelinePath/partitions","/locations/:repoPath/jobs/:pipelinePath/partitions"],children:(0,r.jsx)(i_,{repoAddress:n})}),(0,r.jsx)(P.q,{path:["/locations/:repoPath/pipelines/:pipelinePath/overview","/locations/:repoPath/jobs/:pipelinePath/overview"],render:e=>(0,r.jsx)(c.rd,{to:"/locations/".concat(e.match.url.replace(/\/overview$/i,""))})}),(0,r.jsx)(P.q,{path:["/locations/:repoPath/pipelines/(/?.*)","/locations/:repoPath/jobs/(/?.*)"],children:(0,r.jsx)(tQ,{repoAddress:n})})]})]})};var iC=t(72024),iN=t(12023),ik=t(2161);let iw=e=>null;var iE=t(32642);function iI(){let e=(0,d._)(["\n  query SchedulePartitionStatusQuery($scheduleSelector: ScheduleSelector!) {\n    scheduleOrError(scheduleSelector: $scheduleSelector) {\n      ... on Schedule {\n        id\n        ...SchedulePartitionStatusFragment\n      }\n    }\n  }\n\n  fragment SchedulePartitionStatusFragment on Schedule {\n    id\n    mode\n    pipelineName\n    partitionSet {\n      id\n      name\n      partitionStatusesOrError {\n        ... on PartitionStatuses {\n          results {\n            id\n            ...SchedulePartitionStatusResult\n          }\n        }\n      }\n    }\n  }\n\n  fragment SchedulePartitionStatusResult on PartitionStatus {\n    id\n    partitionName\n    runStatus\n  }\n"]);return iI=function(){return e},e}let iA=["Succeeded","Failed","Missing","Pending"],iP=(0,l.memo)(e=>{let{repoAddress:n,schedule:t}=e,i=(0,tK.GK)(n),{name:o,partitionSet:s,pipelineName:a}=t,c=null==s?void 0:s.name,d=(0,tK.Ji)(i,a),p=(0,l.useMemo)(()=>{let e=c?eD().stringify({partitionSet:c},{addQueryPrefix:!0}):"";return"/".concat(d?"jobs":"pipelines","/").concat(a,"/partitions").concat(e)},[c,d,a]),h=(0,b.HG)(n,p),[x,{data:j,loading:g}]=(0,m._l)(iR,{variables:{scheduleSelector:{scheduleName:o,repositoryName:n.name,repositoryLocationName:n.location}}}),f=(0,l.useCallback)(()=>x(),[x]);return(0,r.jsxs)(ik.Y,{direction:"column",spacing:4,children:[(0,r.jsx)(M.N_,{to:h,children:c}),(()=>{if(g)return(0,r.jsx)(u.HL,{style:{color:ea.XN()},children:"Loading…"});if(!j)return(0,r.jsx)(rt.v,{onClick:f,children:(0,r.jsx)(u.HL,{children:"Show coverage"})});let e=j.scheduleOrError;return"Schedule"===e.__typename?(0,r.jsx)(iT,{schedule:e,partitionURL:h}):(0,r.jsx)(u.HL,{style:{color:ea.sq()},children:"Partition set not found!"})})()]})}),iT=e=>{let{schedule:n,partitionURL:t}=e,{partitionSet:i}=n;if(!i||"PartitionStatuses"!==i.partitionStatusesOrError.__typename)return(0,r.jsx)("span",{style:{color:ea.XN()},children:"None"});let o=i.partitionStatusesOrError.results,s={};return o.forEach(e=>{let n=(e=>{switch(e.runStatus){case null:return"Missing";case tk.i2_.SUCCESS:return"Succeeded";case tk.i2_.FAILURE:case tk.i2_.CANCELED:case tk.i2_.CANCELING:return"Failed";case tk.i2_.MANAGED:case tk.i2_.QUEUED:case tk.i2_.NOT_STARTED:case tk.i2_.STARTED:case tk.i2_.STARTING:return"Pending";default:return(0,eS.dr)(e.runStatus)}})(e);s[n]=[...s[n]||[],e]}),(0,r.jsx)(iE.nr,{children:(0,r.jsx)("tbody",{children:iA.map(e=>e in s?(0,r.jsxs)("tr",{children:[(0,r.jsx)("td",{style:{width:"100px"},children:e}),(0,r.jsx)("td",{children:"Failed"===e||"Missing"===e?(0,r.jsx)(M.N_,{to:"".concat(t,"?showFailuresAndGapsOnly=true"),style:{color:ea.eg()},children:s[e].length}):s[e].length})]},e):null)})})},iR=(0,m.J1)(iI());var iL=t(91680);let iO=e=>{let{repoAddress:n,schedule:t}=e,{permissions:{canStartSchedule:i,canStopRunningSchedule:o}}=(0,tW.S2)(n.location),{name:s}=t,a=(0,nl._)((0,na._)({},(0,ei.n)(n)),{scheduleName:s}),[l,{loading:c}]=(0,m.n_)(iL.CT,{onCompleted:iL.au}),d=i&&o,p=d?'In code, a default status for "'.concat(s,'" has been set to "').concat(t.defaultStatus,'". Click here to reset the schedule status to track the status set in code.'):tW.gZ;return(0,r.jsx)(D.m,{content:(0,r.jsx)("div",{style:{maxWidth:"500px",wordBreak:"break-word"},children:p}),display:"flex",children:(0,r.jsx)(Z.$n,{disabled:c||!d,onClick:()=>{l({variables:{scheduleSelector:a}})},children:"Reset schedule status"})})};var iF=t(56588),iD=t(74053),iM=t(49652),i$=t(50158),iH=t(82343),iz=t(98689),iG=t(58508),iJ=t(43189),iq=t(78224),iB=t(6236),iV=t(18140),iK=t(62808),iU=t(58421);function iQ(){let e=(0,d._)(["\n  query getSchedule(\n    $scheduleSelector: ScheduleSelector!\n    $startTimestamp: Float\n    $ticksAfter: Int\n    $ticksBefore: Int\n  ) {\n    scheduleOrError(scheduleSelector: $scheduleSelector) {\n      ... on PythonError {\n        message\n        stack\n      }\n      ... on Schedule {\n        id\n        name\n        potentialTickTimestamps(\n          startTimestamp: $startTimestamp\n          upperLimit: $ticksAfter\n          lowerLimit: $ticksBefore\n        )\n      }\n    }\n  }\n"]);return iQ=function(){return e},e}function iW(){let e=(0,d._)(["\n  mutation ScheduleDryRunMutation($selectorData: ScheduleSelector!, $timestamp: Float) {\n    scheduleDryRun(selectorData: $selectorData, timestamp: $timestamp) {\n      ...PythonErrorFragment\n      ... on DryRunInstigationTick {\n        timestamp\n        evaluationResult {\n          runRequests {\n            ...RunRequestFragment\n          }\n          skipReason\n          error {\n            ...PythonErrorFragment\n          }\n        }\n      }\n      ... on ScheduleNotFoundError {\n        scheduleName\n      }\n    }\n  }\n  ","\n  ","\n"]);return iW=function(){return e},e}let iZ=navigator.language,iY=e=>(0,r.jsx)(rr.lG,(0,nl._)((0,na._)({},e),{style:{width:"70vw",display:"flex"},title:(0,r.jsxs)(i.a,{flex:{direction:"row",gap:8,alignItems:"center"},children:[(0,r.jsx)(el.In,{name:"preview_tick"}),(0,r.jsxs)("span",{children:["Preview tick result for ",e.name]})]}),children:(0,r.jsx)(iX,(0,na._)({},e))})),iX=e=>{let{repoAddress:n,name:t,onClose:s,jobName:a}=e,c=(0,j.jt)(),[d,p]=(0,l.useState)(),u=(0,l.useMemo)(()=>({repositoryLocationName:n.location,repositoryName:n.name,scheduleName:t}),[n,t]),{data:h}=(0,m.IT)(i0,{variables:{scheduleSelector:u}}),[x,{loading:g}]=(0,m.n_)(i3),f=(0,iK.o)(),{timezone:[y]}=(0,l.useContext)(iB.RF),[v,S]=(0,l.useState)(!1),_=(0,l.useRef)(null),{viewport:b,containerProps:C}=(0,rk.k)(),[N,k]=(0,l.useState)(!1),[w,E]=(0,l.useState)(null),[I,A]=(0,l.useState)(null),P=(0,l.useMemo)(()=>h&&!g,[h,g]),T=(0,l.useCallback)(async()=>{var e,r;if(!P)return;let i=(0,ei.n)(n),o=null==(e=(await x({variables:{selectorData:(0,nl._)((0,na._)({},i),{scheduleName:t}),timestamp:_.current.ts}})).data)?void 0:e.scheduleDryRun;o?(null==o?void 0:o.__typename)==="DryRunInstigationTick"?(null==(r=o.evaluationResult)?void 0:r.error)?E(o.evaluationResult.error):A(o):(null==o?void 0:o.__typename)==="ScheduleNotFoundError"?(0,iq.vI)({title:"Schedule not found",body:"Could not find a schedule named: ".concat(t)}):E(o):(0,eS.dr)("scheduleDryRun Mutation returned no data??")},[P,x,n,t]),R=(0,l.useMemo)(()=>I&&u?(0,iU.I)(I,u,a):[],[u,I,a]),L=(0,l.useMemo)(()=>null!=R&&R.length>0,[R]),O=(0,l.useCallback)(async()=>{if(L){c("launch-all-schedule"),k(!0);try{R&&await f({executionParamsList:R},"toast")}catch(e){console.error(e)}k(!1),s()}},[L,R,f,s,c]),F=(0,l.useMemo)(()=>{if(N)return(0,r.jsxs)(i.a,{flex:{direction:"row",gap:8,justifyContent:"center",alignItems:"center"},children:[(0,r.jsx)(rD.y,{purpose:"body-text"}),(0,r.jsx)("div",{children:"Launching runs"})]});if(!h)return(0,r.jsx)(i.a,{padding:{vertical:48},flex:{alignItems:"center",justifyContent:"center"},children:(0,r.jsx)(rD.y,{purpose:"page"})});if("PythonError"===h.scheduleOrError.__typename)return(0,r.jsx)(eE.Bf,{error:h.scheduleOrError});if("ScheduleNotFoundError"===h.scheduleOrError.__typename)return(0,r.jsx)(o.I,{icon:"error",title:"Schedule not found",description:"Could not find a schedule named: ".concat(t)});if(I||w)return(0,r.jsx)(i1,{repoAddress:n,name:t,timestamp:_.current.ts,jobName:a,scheduleExecutionData:I,scheduleExecutionError:w});if(g)return(0,r.jsxs)(i.a,{flex:{direction:"row",gap:8,justifyContent:"center",alignItems:"center"},children:[(0,r.jsx)(rD.y,{purpose:"body-text"}),(0,r.jsx)("div",{children:"Evaluating schedule"})]});{var e;let n=h.scheduleOrError.potentialTickTimestamps.map(e=>({ts:e,label:(0,iV.h)({timestamp:{unix:e},locale:iZ,timezone:y,timeFormat:{showTimezone:!0}})}));return _.current=d||n[0]||null,(0,r.jsxs)(i.a,{flex:{direction:"column",gap:8},children:[(0,r.jsx)(i2,{children:"Select an evaluation time to simulate"}),(0,r.jsx)(iH.AM,{isOpen:v,position:"bottom-left",fill:!0,content:(0,r.jsx)(iz.W1,{style:{maxHeight:"400px",overflow:"scroll",width:"".concat(b.width,"px")},children:n.map(e=>(0,r.jsx)(iz.Dr,{text:(0,r.jsx)("div",{"data-testid":(0,rG.e)("tick-".concat(e.ts)),children:e.label}),onClick:()=>{p(e),S(!1)}},e.ts))}),children:(0,r.jsx)("div",(0,nl._)((0,na._)({},C),{children:(0,r.jsx)(Z.$n,{style:{flex:1,width:"100%"},rightIcon:(0,r.jsx)(el.In,{name:"arrow_drop_down"}),onClick:()=>S(e=>!e),"data-testid":(0,rG.e)("tick-selection"),children:null==(e=_.current)?void 0:e.label})}))}),(0,r.jsxs)("div",{children:["Each evaluation of a schedule is called a tick, which is an opportunity for one or more runs to be launched. Ticks kick off runs, which either materialize a selection of assets or execute a ",(0,r.jsx)("a",{href:"https://docs.dagster.io/concepts/ops-jobs-graphs/jobs",children:"job"}),". You can preview the result for a given tick in the next step."]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("a",{href:"https://docs.dagster.io/concepts/automation/schedules",children:"Learn more"})," about schedules"]})]})}},[N,h,I,w,g,n,t,a,d,v,b.width,C,y]),M=(0,l.useMemo)(()=>N?null:I||w?(0,r.jsx)(Z.$n,{icon:(0,r.jsx)(el.In,{name:"settings_backup_restore"}),"data-testid":(0,rG.e)("try-again"),onClick:()=>{A(null),E(null)},children:"Try again"}):null,[N,I,w]),$=(0,l.useMemo)(()=>{if(N)return(0,r.jsx)(i.a,{flex:{direction:"row",gap:8}});if(I||w){var e;let n=null==I||null==(e=I.evaluationResult)?void 0:e.runRequests,t=(null==n?void 0:n.length)||0,o=!w&&0===t;return w||o?(0,r.jsx)(i.a,{flex:{direction:"row",gap:8},children:(0,r.jsx)(Z.$n,{onClick:s,children:"Close"})}):(0,r.jsxs)(i.a,{flex:{direction:"row",gap:8},children:[(0,r.jsx)(Z.$n,{onClick:s,children:"Close"}),(0,r.jsx)(D.m,{canShow:!L||N,content:"Launches all runs and commits tick result",placement:"top-end",children:(0,r.jsx)(Z.$n,{icon:(0,r.jsx)(el.In,{name:"check_filled"}),intent:"primary",disabled:!L||N,onClick:O,"data-testid":(0,rG.e)("launch-all"),children:(0,r.jsx)("div",{children:"Launch all & commit tick result"})})})]})}return g?(0,r.jsx)(i.a,{flex:{direction:"row",gap:8},children:(0,r.jsx)(Z.$n,{onClick:s,children:"Close"})}):(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(Z.$n,{onClick:s,children:"Close"}),(0,r.jsx)(Z.$n,{"data-testid":(0,rG.e)("continue"),intent:"primary",disabled:!P,onClick:()=>{T()},children:"Continue"})]})},[L,P,N,s,O,I,w,T,g]);return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(rr.R4,{children:(0,r.jsx)("div",{style:{minHeight:"300px"},children:F})}),(0,r.jsx)(rr.Es,{topBorder:!0,left:M,children:$})]})},i0=(0,m.J1)(iQ()),i1=e=>{var n;let{repoAddress:t,name:s,timestamp:a,jobName:c,scheduleExecutionData:d,scheduleExecutionError:p}=e,{timezone:[m]}=(0,l.useContext)(iB.RF),x=null==d?void 0:d.evaluationResult,j=null==x||null==(n=x.runRequests)?void 0:n.length,g=p||(null==x?void 0:x.error);return(0,r.jsxs)(i.a,{flex:{direction:"column",gap:8},children:[(0,r.jsx)(i.a,{children:(0,r.jsxs)(i6,{children:[(0,r.jsxs)("div",{children:[(0,r.jsx)(u.R2,{children:"Result"}),(0,r.jsx)(i.a,{flex:{grow:1,alignItems:"center"},children:(0,r.jsx)("div",{children:g?(0,r.jsx)(h.v,{intent:"danger",children:"Failed"}):j?(0,r.jsxs)(h.v,{intent:"success",children:[j," run requests"]}):(0,r.jsx)(h.v,{intent:"warning",children:"Skipped"})})})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)(u.R2,{children:"Tick"}),(0,r.jsx)(i.a,{flex:{grow:1,alignItems:"center"},children:(0,r.jsx)(u.Kp,{children:(0,iV.h)({timestamp:{unix:a},locale:iZ,timezone:m,timeFormat:{showTimezone:!0}})})})]})]})}),(()=>{var e;return p?(0,r.jsx)(eE.Bf,{error:p}):d&&x?x.error?(0,r.jsx)(eE.Bf,{error:x.error}):(null==(e=x.runRequests)?void 0:e.length)?(0,r.jsxs)(i.a,{flex:{direction:"column",gap:8},children:[(0,r.jsxs)(u.R2,{children:["Requested runs (",j,")"]}),(0,r.jsx)(iG.R,{runRequests:x.runRequests,repoAddress:t,isJob:!0,jobName:c,name:s})]}):(0,r.jsxs)(i.a,{flex:{direction:"column",gap:8},children:[(0,r.jsx)(u.R2,{style:{marginBottom:8},children:"Requested runs (0)"}),(0,r.jsx)("div",{children:(0,r.jsx)(i4,{children:(0,r.jsx)(o.I,{icon:"missing",title:"No runs requested",description:(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)("span",{children:"The schedule function was successfully evaluated but didn't return any run requests."}),(0,r.jsxs)("span",{children:[(0,r.jsx)("br",{}),"Skip reason:"," ",(null==x?void 0:x.skipReason)?'"'.concat(x.skipReason,'"'):"No skip reason was output"]})]})})})})]}):(0,r.jsx)(o.I,{title:"An unknown error occurred",description:(0,r.jsxs)("span",{children:["File an issue on"," ",(0,r.jsx)("a",{href:"https://github.com/dagster-io/dagster",target:"_blank",rel:"noreferrer",children:"Github"})," ","if you think this is a bug"]}),icon:"error"})})()]})},i3=(0,m.J1)(iW(),x.z,iJ.n),i6=ed.Ay.div.withConfig({componentId:"sc-bbf51b60-0"})(["display:grid;grid-template-columns:repeat(2,1fr);padding-bottom:12px;border-bottom:1px solid ",";margin-bottom:12px;","{padding-bottom:4px;display:block;}pre{margin:0;}button{margin-top:4px;}"],ea.KH(),u.R2),i2=ed.Ay.div.withConfig({componentId:"sc-bbf51b60-1"})(["padding-bottom:2px;"]),i4=ed.Ay.div.withConfig({componentId:"sc-bbf51b60-2"})(["","{margin:auto !important;width:unset !important;max-width:unset !important;}"],o.T),i5=e=>{let{name:n,repoAddress:t,jobName:o}=e,[s,a]=(0,l.useState)(!1);return(0,r.jsxs)(i.a,{flex:{direction:"row",alignItems:"center",gap:8},children:[(0,r.jsx)(Z.$n,{icon:(0,r.jsx)(el.In,{name:"preview_tick"}),onClick:()=>{a(!0)},children:"Preview tick result"}),(0,r.jsx)(iY,{isOpen:s,onClose:()=>{a(!1)},name:n,repoAddress:t,jobName:o})]})};var i7=t(19366);let i8={showSeconds:!0,showTimezone:!0},i9=e=>{let{repoAddress:n,schedule:t,refreshState:o,assetSelection:s}=e,{cronSchedule:a,executionTimezone:l,futureTicks:c,name:d,partitionSet:m,pipelineName:x}=t,{scheduleState:j}=t,{status:g,ticks:y}=j,v=y.length>0?y[0]:null,S=g===tk.WqK.RUNNING;return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(p.z,{title:(0,r.jsxs)(u.M7,{style:{display:"flex",flexDirection:"row",gap:4},children:[(0,r.jsx)(M.N_,{to:"/automation",children:"Automation"}),(0,r.jsx)("span",{children:"/"}),d]}),tags:(0,r.jsxs)(h.v,{icon:"schedule",children:["Schedule in ",(0,r.jsx)(f.p,{repoAddress:n})]}),right:(0,r.jsxs)(i.a,{flex:{direction:"row",alignItems:"center",gap:8},children:[(0,r.jsx)(ra.D7,{refreshState:o}),(0,r.jsx)(i5,{name:t.name,repoAddress:n,jobName:x})]})}),(0,r.jsx)(rs.Wy,{children:(0,r.jsxs)("tbody",{children:[t.description?(0,r.jsxs)("tr",{children:[(0,r.jsx)("td",{children:"Description"}),(0,r.jsx)("td",{children:t.description})]}):null,t.owners.length>0&&(0,r.jsxs)("tr",{children:[(0,r.jsx)("td",{children:"Owners"}),(0,r.jsx)("td",{children:(0,r.jsx)(i$.a,{owners:t.owners})})]}),(0,r.jsxs)("tr",{children:[(0,r.jsx)("td",{children:"Latest tick"}),(0,r.jsx)("td",{children:v?(0,r.jsxs)(ik.Y,{direction:"row",spacing:8,alignItems:"center",children:[(0,r.jsx)(ru.J,{timestamp:v.timestamp,timezone:l,timeFormat:i8}),(0,r.jsx)(i7.O,{tick:v,tickResultType:"runs"})]}):"Schedule has never run"})]}),c.results[0]&&S&&(0,r.jsxs)("tr",{children:[(0,r.jsx)("td",{children:"Next tick"}),(0,r.jsx)("td",{children:(0,r.jsx)(ru.J,{timestamp:c.results[0].timestamp,timezone:l,timeFormat:i8})})]}),t.pipelineName||s?(0,r.jsxs)("tr",{children:[(0,r.jsx)("td",{children:"Target"}),(0,r.jsx)(oe,{children:(0,r.jsx)(iM.r,{targets:t.pipelineName?[{pipelineName:t.pipelineName}]:null,repoAddress:n,assetSelection:s||null,automationType:"schedule"})})]}):null,(0,r.jsxs)("tr",{children:[(0,r.jsx)("td",{children:(0,r.jsx)(i.a,{flex:{alignItems:"center"},style:{height:"32px"},children:"Running"})}),(0,r.jsx)("td",{children:(0,r.jsxs)(i.a,{flex:{direction:"row",gap:12,alignItems:"center"},style:{height:"32px"},children:[(0,r.jsx)(iF.G,{repoAddress:n,schedule:t}),t.canReset&&(0,r.jsx)(iO,{repoAddress:n,schedule:t})]})})]}),(0,r.jsxs)("tr",{children:[(0,r.jsx)("td",{children:"Partition set"}),(0,r.jsx)("td",{children:m?(0,r.jsx)(iP,{schedule:t,repoAddress:n}):"None"})]}),(0,r.jsxs)("tr",{children:[(0,r.jsx)("td",{children:"Schedule"}),(0,r.jsx)("td",{children:a?(0,r.jsxs)(ik.Y,{direction:"row",spacing:8,children:[(0,r.jsx)("span",{children:(0,iD.d)(a,{longTimezoneName:l||"UTC"})}),(0,r.jsxs)(u.Cy,{children:["(",a,")"]})]}):(0,r.jsx)("div",{children:"—"})})]}),l?(0,r.jsxs)("tr",{children:[(0,r.jsx)("td",{children:"Execution timezone"}),(0,r.jsx)("td",{children:l})]}):null,(0,r.jsx)(iw,{repoAddress:n,scheduleName:d})]})})]})},oe=ed.Ay.td.withConfig({componentId:"sc-a5d6c205-0"})(["button{line-height:20px;}"]);function on(){let e=(0,d._)(["\n  fragment ScheduleFragment on Schedule {\n    id\n    name\n    cronSchedule\n    executionTimezone\n    pipelineName\n    solidSelection\n    mode\n    description\n    partitionSet {\n      id\n      name\n    }\n    defaultStatus\n    canReset\n    scheduleState {\n      id\n      ...InstigationStateFragment\n    }\n    futureTicks(limit: 5) {\n      results {\n        timestamp\n      }\n    }\n    owners {\n      ... on UserDefinitionOwner {\n        email\n      }\n      ... on TeamDefinitionOwner {\n        team\n      }\n    }\n  }\n\n  ","\n"]);return on=function(){return e},e}let ot=(0,m.J1)(on(),iE.FQ);var or=t(40462),oi=t(75789),oo=t(60213),os=t(50170);function oa(){let e=(0,d._)(['\n  query ScheduleRootQuery($scheduleSelector: ScheduleSelector!) {\n    scheduleOrError(scheduleSelector: $scheduleSelector) {\n      ... on Schedule {\n        id\n        ...ScheduleFragment\n      }\n      ... on ScheduleNotFoundError {\n        message\n      }\n      ...PythonErrorFragment\n    }\n    instance {\n      id\n      daemonHealth {\n        id\n        daemonStatus(daemonType: "SCHEDULER") {\n          id\n          healthy\n        }\n      }\n      ...InstanceHealthFragment\n    }\n  }\n\n  ',"\n  ","\n  ","\n"]);return oa=function(){return e},e}let ol=e=>{var n;(0,j.b7)();let{repoAddress:t}=e,{scheduleName:i}=(0,c.g)();(0,g.r)("Schedule: ".concat(i));let o=(0,nl._)((0,na._)({},(0,ei.n)(t)),{scheduleName:i}),[s,a]=l.useState("ticks"),d=(0,m.IT)(oc,{variables:{scheduleSelector:o},notifyOnNetworkStatusChange:!0}),p=(0,m.IT)(iN.k,{variables:{scheduleSelector:o},notifyOnNetworkStatusChange:!0}),u=(0,ra.Bj)(d,ra.eO),h=(0,ra.Bj)(p,ra.eO),x=(0,ra.T4)(u,h),f=(0,r.jsxs)(R.tU,{selectedTabId:s,onChange:a,children:[(0,r.jsx)(R.oz,{id:"ticks",title:"Tick history"}),(0,r.jsx)(R.oz,{id:"runs",title:"Run history"})]}),y=(null==(n=p.data)?void 0:n.scheduleOrError.__typename)==="Schedule"?p.data.scheduleOrError.assetSelection:null,v=l.useMemo(()=>({tags:[{key:rc.d.ScheduleName,value:i},{key:rc.d.RepositoryLabelTag,value:(0,I.DV)(t)}]}),[t,i]);return(0,r.jsx)(_.R,{queryResult:d,allowStaleData:!0,children:e=>{let{scheduleOrError:n,instance:i}=e;if("Schedule"!==n.__typename)return null;let o=!i.daemonHealth.daemonStatus.healthy;return(0,r.jsxs)(T.Y,{children:[(0,r.jsx)(i9,{repoAddress:t,schedule:n,refreshState:x,assetSelection:y}),o?(0,r.jsx)(or.Y,{daemonHealth:i.daemonHealth,padding:{vertical:16,horizontal:24}}):null,"ticks"===s?(0,r.jsx)(oo.B,{tabs:f,tickResultType:"runs",repoAddress:t,name:n.name}):(0,r.jsx)(os.U,{filter:v,actionBarComponents:f,includeRunsFromBackfills:!0})]})}})},oc=(0,m.J1)(oa(),ot,x.z,oi.c);var od=t(60974);let op=()=>{let{repoPath:e}=(0,c.g)(),n=(0,l.useContext)(E.zp),t=(0,A.G)(e),{loadingNonAssets:a}=n;if(!t)return(0,r.jsx)(i.a,{padding:{vertical:64},children:(0,r.jsx)(o.I,{icon:"error",title:"Invalid code location path",description:(0,r.jsxs)("div",{children:[(0,r.jsx)("div",{children:(0,r.jsx)("strong",{children:e})}),"  is not a valid code location path."]})})});let d=n.allRepos.find(e=>e.repository.name===t.name&&e.repositoryLocation.name===t.location);return!d&&a?(0,r.jsx)(i.a,{padding:{vertical:64},flex:{direction:"row",justifyContent:"center"},children:(0,r.jsx)(s.V,{label:"Loading ".concat((0,I.FC)(t),"…")})}):(0,r.jsxs)(c.dO,{children:[(0,r.jsx)(P.q,{path:"/locations/:repoPath/graphs/(/?.*)",children:(0,r.jsx)(N,{repoAddress:t})}),(0,r.jsx)(P.q,{path:["/locations/:repoPath/pipelines/(/?.*)","/locations/:repoPath/jobs/(/?.*)","/locations/:repoPath/pipeline_or_job/(/?.*)"],children:(0,r.jsx)(ib,{repoAddress:t})}),(0,r.jsx)(P.q,{path:"/locations/:repoPath/schedules/:scheduleName/:runTab?",children:(0,r.jsx)(ol,{repoAddress:t})}),(0,r.jsx)(P.q,{path:"/locations/:repoPath/sensors/:sensorName",children:(0,r.jsx)(od.$,{repoAddress:t})}),(0,r.jsx)(P.q,{path:"/locations/:repoPath/resources/:resourceName",children:(0,r.jsx)(iC.J,{repoAddress:t})}),(0,r.jsx)(P.q,{path:["/locations/:repoPath/asset-groups/:groupName/list(/?.*)"],children:(0,r.jsx)(U,{repoAddress:t,tab:"list"})}),(0,r.jsx)(P.q,{path:["/locations/:repoPath/asset-groups/:groupName/(/?.*)","/locations/:repoPath/asset-groups/:groupName"],children:(0,r.jsx)(U,{repoAddress:t,tab:"lineage"})}),(0,r.jsx)(P.q,{path:"/locations/:repoPath",exact:!0,children:(0,r.jsx)(tJ,{repoAddress:t})}),(0,r.jsx)(P.q,{path:"/locations/:repoPath/definitions",exact:!0,children:(0,r.jsx)(c.rd,{to:(0,b.HG)(t,"/assets")})}),(0,r.jsx)(P.q,{path:"/locations/:repoPath/docs",exact:!0,children:(0,r.jsx)(tf,{repoAddress:t})}),(0,r.jsx)(P.q,{path:"/locations/:repoPath/docs/packages/:packageName?/:componentName?",children:(0,r.jsx)(tf,{repoAddress:t})}),d?(0,r.jsx)(P.q,{path:["/locations/:repoPath/assets","/locations/:repoPath/jobs","/locations/:repoPath/resources","/locations/:repoPath/schedules","/locations/:repoPath/sensors","/locations/:repoPath/graphs","/locations/:repoPath/ops/:name?"],exact:!0,children:(0,r.jsx)(ns,{repoAddress:t,repository:d.repository})}):null,(0,r.jsx)(P.q,{path:["/locations/:repoPath/*","/locations/:repoPath/"],children:(0,r.jsx)(c.rd,{to:(0,b.HG)(t,"/assets")})})]})},ou=()=>(0,r.jsx)(a.D,{children:(0,r.jsx)(c.dO,{children:(0,r.jsx)(P.q,{path:"/locations/:repoPath",children:(0,r.jsx)(op,{})})})}),oh=ou},25151:(e,n,t)=>{"use strict";t.d(n,{Mz:()=>h});var r=t(6029),i=t(98689),o=t(82343),s=t(9448),a=t(38954),l=t(74016),c=t(26020),d=t(63018),p=t(55729),u=t(30118);let h=e=>{var n;let{locationNode:t}=e,[l,c]=(0,p.useState)(!1),[d,u]=(0,p.useState)(!1),h=null,j=null;return(null==(n=t.locationOrLoadError)?void 0:n.__typename)==="RepositoryLocation"&&null!==t.locationOrLoadError.dagsterLibraryVersions&&(h=(0,r.jsx)(i.Dr,{icon:"info",text:"View Dagster libraries",onClick:()=>u(!0)}),j=(0,r.jsx)(x,{libraries:t.locationOrLoadError.dagsterLibraryVersions,isOpen:d,setIsOpen:u})),(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(o.AM,{position:"bottom-left",content:(0,r.jsxs)(i.W1,{children:[(0,r.jsx)(i.Dr,{icon:"info",text:"View configuration",onClick:()=>c(!0)}),h]}),children:(0,r.jsx)(s.$n,{icon:(0,r.jsx)(a.In,{name:"expand_more"})})}),(0,r.jsx)(m,{metadata:t.displayMetadata,isOpen:l,setIsOpen:c}),j]})},m=e=>{let{isOpen:n,setIsOpen:t,metadata:i}=e;return(0,r.jsxs)(l.lG,{title:"Code location configuration",icon:"info",isOpen:n,onClose:()=>t(!1),style:{width:"600px"},children:[(0,r.jsx)(j,{displayMetadata:i}),(0,r.jsx)(l.Es,{topBorder:!0,children:(0,r.jsx)(s.$n,{onClick:()=>t(!1),intent:"primary",children:"Done"})})]})},x=e=>{let{isOpen:n,setIsOpen:t,libraries:i}=e;return(0,r.jsxs)(l.lG,{title:"Dagster library versions",icon:"info",isOpen:n,onClose:()=>t(!1),style:{width:"600px"},children:[(0,r.jsxs)(c.X,{children:[(0,r.jsx)("thead",{children:(0,r.jsxs)("tr",{children:[(0,r.jsx)("th",{children:"Library"}),(0,r.jsx)("th",{children:"Version"})]})}),(0,r.jsx)("tbody",{children:i.map(e=>(0,r.jsxs)("tr",{children:[(0,r.jsx)("td",{children:e.name}),(0,r.jsx)("td",{children:e.version})]},e.name))})]}),(0,r.jsx)(l.Es,{topBorder:!0,children:(0,r.jsx)(s.$n,{onClick:()=>t(!1),intent:"primary",children:"Done"})})]})},j=e=>{let{displayMetadata:n}=e,t=(0,p.useMemo)(()=>{let e=n.reduce((e,n)=>(e[n.key]=n.value,e),{});return u.As(e)},[n]);return(0,r.jsx)(d.O,{value:t,options:{readOnly:!0,lineNumbers:!0,mode:"yaml"},theme:["config-editor"]})}},30538:e=>{e.exports={imageName:"CodeLocationOverviewRoot_imageName__Xqm7l"}},31447:(e,n,t)=>{"use strict";t.d(n,{n:()=>P});var r=t(99649),i=t(93096),o=t(6029),s=t(19938),a=t(69807),l=t(30424),c=t(85184),d=t(55729),p=t(3102),u=t(29500),h=t(38954),m=t(12547),x=t(44228),j=t(59447),g=t(1536);let f=e=>{let{repoAddress:n,anyFilter:t,jobName:r,jobPath:i}=e,s=(0,j.GK)(n),l=(0,j.PO)(s,r),c=(0,j._z)(s,r);return(0,o.jsx)(a.a,{padding:{vertical:64},children:(0,o.jsx)(m.I,{icon:"run",title:"No runs found",description:n?c?(0,o.jsx)("div",{children:t?"There are no matching runs for these filters.":"You have not launched any runs for this external job."}):l?(0,o.jsxs)(a.a,{flex:{direction:"column",gap:12},children:[(0,o.jsx)("div",{children:t?"There are no matching runs for these filters.":"You have not materialized any assets with this job yet."}),(0,o.jsx)("div",{children:(0,o.jsx)(x.A,{icon:(0,o.jsx)(h.In,{name:"materialization"}),to:(0,g.HG)(n,"/jobs/".concat(i)),children:"Materialize an asset"})})]}):(0,o.jsxs)(a.a,{flex:{direction:"column",gap:12},children:[(0,o.jsx)("div",{children:t?"There are no matching runs for these filters.":"You have not launched any runs for this job yet."}),(0,o.jsx)("div",{children:(0,o.jsx)(x.A,{icon:(0,o.jsx)(h.In,{name:"add_circle"}),to:(0,g.HG)(n,"/jobs/".concat(i,"/playground")),children:"Launch a run"})})]}):(0,o.jsx)("div",{children:"You have not launched any runs for this job."})})})};var y=t(89194),v=t(49575),S=t(10570),_=t(94251),b=t(95510),C=t(85521),N=t(60641),k=t(50170),w=t(86218),E=t(22726),I=t(94543);let A=["status","tag","id","created_date_before","created_date_after"],P=e=>{(0,S.b7)();let{pipelinePath:n}=(0,p.g)(),{repoAddress:t=null}=e,h=(0,u.iI)(n),{pipelineName:m,snapshotId:x}=h,g=(0,j.GK)(t),P=(0,j.Ji)(g,m);(0,y.J)(h,P);let[T,R]=(0,w.HB)(A),L=(0,d.useMemo)(()=>[P?{token:"job",value:m}:{token:"pipeline",value:m},x?{token:"snapshotId",value:x}:null].filter(Boolean),[P,m,x]),O=(0,d.useMemo)(()=>{let e=[...T,...L];if(t){let n={token:"tag",value:"".concat(b.d.RepositoryLabelTag,"=").concat((0,I.DV)(t))};e.push(n)}return(0,i._)((0,r._)({},(0,w.Us)(e)),{pipelineName:m,snapshotId:x})},[T,L,m,t,x]),F=(0,d.useCallback)(e=>{let n=(0,s.AY)(e);T.some(e=>(0,s.AY)(e)===n)||R([...T,e])},[T,R]),{entries:D,paginationProps:M,queryResult:$}=(0,E.A)({filter:O,skip:!1,view:_.ivR.RUNS}),H=(0,v.Bj)($,v.eO),{button:z,activeFiltersJsx:G}=(0,w.QR)({enabledFilters:A,tokens:T,onChange:R,loading:$.loading}),J=(0,o.jsxs)(a.a,{flex:{direction:"row",gap:8,alignItems:"center"},style:{width:"100%"},padding:{right:16},children:[z,(0,o.jsx)("div",{style:{flex:1}}),(0,o.jsx)(v.D7,{refreshState:H})]}),q=(0,o.jsxs)(a.a,{flex:{direction:"row",gap:4,alignItems:"center"},children:[L.map(e=>{let{token:n,value:t}=e;return(0,o.jsx)(l.v,{children:"".concat(n,":").concat(t)},n)}),G,G.length>0&&(0,o.jsx)(c.v,{onClick:()=>R([]),children:"Clear all"})]});return(0,o.jsx)(C.rw.Provider,{value:{refetch:H.refetch},children:$.error?(0,o.jsx)(N.h,{error:$.error}):(0,o.jsx)("div",{style:{minHeight:0},children:(0,o.jsx)(k.V,{entries:D,loading:$.loading,onAddTag:F,refetch:H.refetch,actionBarComponents:J,belowActionBarComponents:q,paginationProps:M,filter:O,emptyState:()=>(0,o.jsx)(f,{repoAddress:t,anyFilter:T.length>0,jobName:m,jobPath:n})})})})}},36706:(e,n,t)=>{"use strict";t.d(n,{A1:()=>k,Z1:()=>w});var r=t(99649),i=t(93096),o=t(9329),s=t(6029),a=t(55729),l=t(3102),c=t(36482),d=t(61252),p=t(80955),u=t(29500),h=t(98784),m=t(91374),x=t(10570),j=t(76651),g=t(54423),f=t(69849),y=t(20881),v=t(91756),S=t(23312),_=t(16124),b=t(19805),C=t(59447);function N(){let e=(0,o._)(["\n  query PipelineExplorerRootQuery(\n    $snapshotPipelineSelector: PipelineSelector\n    $snapshotId: String\n    $rootHandleID: String!\n    $requestScopeHandleID: String\n  ) {\n    pipelineSnapshotOrError(\n      snapshotId: $snapshotId\n      activePipelineSelector: $snapshotPipelineSelector\n    ) {\n      ... on PipelineSnapshot {\n        id\n        name\n        metadataEntries {\n          ...MetadataEntryFragment\n        }\n        solidHandle(handleID: $rootHandleID) {\n          ...GraphExplorerSolidHandleFragment\n        }\n        solidHandles(parentHandleID: $requestScopeHandleID) {\n          handleID\n          solid {\n            name\n            definition {\n              assetNodes {\n                id\n                ...GraphExplorerAssetNodeFragment\n              }\n            }\n          }\n          ...GraphExplorerSolidHandleFragment\n        }\n        ...GraphExplorerFragment\n      }\n      ... on PipelineNotFoundError {\n        message\n      }\n      ... on PipelineSnapshotNotFoundError {\n        message\n      }\n      ...PythonErrorFragment\n    }\n  }\n\n  ","\n  ","\n  ","\n  ","\n  ","\n"]);return N=function(){return e},e}let k=()=>{(0,x.b7)();let e=(0,l.g)(),n=(0,u.iI)(e["0"]),{pipelineName:t,snapshotId:r}=n,i=(0,l.W6)(),o=(0,v.e)();return(0,y.r)("Snapshot: ".concat(t).concat(r?"@".concat(r.slice(0,8)):"")),(0,s.jsx)(w,{explorerPath:n,onChangeExplorerPath:(e,n)=>{i[n]("/snapshots/".concat((0,u.ZG)(e)))},onNavigateToSourceAssetNode:(e,n)=>{let{assetKey:t}=n,r=(0,f.Q)(t);e.metaKey?o(r):i.push((0,f.Q)(t))}})},w=e=>{var n;let{explorerPath:t,repoAddress:o}=e,l=(0,C.JJ)(o,t.pipelineName),[c,d]=(0,a.useState)({explodeComposites:null!=(n=t.explodeComposites)&&n,preferAssetRendering:!0}),p=!!l&&null!==l.externalJobSource;(0,a.useEffect)(()=>(p!==c.isExternal&&d((0,i._)((0,r._)({},c),{isExternal:p})),()=>{}),[p,c]);let[u,h]=(0,S.S)("hideEdgesToNodesOutsideQuery",e=>"false"!==e&&!1!==e);if(l&&l.isAssetJob&&c.preferAssetRendering){let n=(0,C.ee)(o||null,t.pipelineName);return(0,s.jsx)(j.uj,{options:c,setOptions:d,fetchOptions:{pipelineSelector:n,hideEdgesToNodesOutsideQuery:u},explorerPath:t,onChangeExplorerPath:e.onChangeExplorerPath,onNavigateToSourceAssetNode:e.onNavigateToSourceAssetNode,viewType:g.kh.JOB,setHideEdgesToNodesOutsideQuery:h},t.pipelineName)}return(0,s.jsx)(E,(0,i._)((0,r._)({},e),{options:c,setOptions:d}))},E=e=>{let{explorerPath:n,repoAddress:t,onChangeExplorerPath:r,onNavigateToSourceAssetNode:i,isGraph:o=!1,options:a,setOptions:l}=e,u=n.opNames.slice(0,n.opNames.length-1),m=(0,C.ee)(t||null,n.pipelineName),x=(0,h.IT)(I,{variables:{snapshotPipelineSelector:n.snapshotId?void 0:m,snapshotId:n.snapshotId?n.snapshotId:void 0,rootHandleID:u.join("."),requestScopeHandleID:a.explodeComposites?void 0:u.join(".")}});return(0,s.jsx)(b.R,{queryResult:x,children:e=>{let{pipelineSnapshotOrError:u}=e;if("PipelineSnapshot"!==u.__typename)return(0,s.jsx)(p.s,{isGraph:o,result:u,repoAddress:t});let h=u.solidHandle,x=a.explodeComposites?(0,c.$)(u.solidHandles):u.solidHandles,f=u.solidHandles.some(e=>e.solid.definition.assetNodes.length>0);return a.preferAssetRendering&&f?(0,s.jsx)(j.uj,{options:a,setOptions:l,fetchOptions:{pipelineSelector:m},explorerPath:n,onChangeExplorerPath:r,onNavigateToSourceAssetNode:i,viewType:g.kh.JOB}):(0,s.jsx)(d.Uh,{options:a,setOptions:l,explorerPath:n,onChangeExplorerPath:r,container:u,repoAddress:t,handles:x,parentHandle:h||void 0,isGraph:o,getInvocations:e=>x.filter(n=>n.solid.definition.name===e).map(e=>({handleID:e.handleID}))})}})},I=(0,h.J1)(N(),_.U,d.G4,d.zO,d.wo,m.z)},40810:e=>{e.exports={link:"CodeLocationDocsPackageTree_link__bf3EM"}},68375:e=>{e.exports={container:"PackageDetails_container__0JGnM",componentItem:"PackageDetails_componentItem__yAqel"}},70994:e=>{e.exports={contentContainer:"CodeLocationDocsRoot_contentContainer__KyP2M",sidebar:"CodeLocationDocsRoot_sidebar__b1D1D",main:"CodeLocationDocsRoot_main__K4gfz"}},74891:e=>{e.exports={searchOuter:"PackageTree_searchOuter__Rjz7E",searchContainer:"PackageTree_searchContainer__KxZc_",icon:"PackageTree_icon__hR7Xz",search:"PackageTree_search__K73yH",treeContainer:"PackageTree_treeContainer__sXDC1",loading:"PackageTree_loading__lVul6",pkgItem:"PackageTree_pkgItem__M3mLe",expandButton:"PackageTree_expandButton__KnD3r",chevron:"PackageTree_chevron__XMY7L",expanded:"PackageTree_expanded___PEO3",pkgLink:"PackageTree_pkgLink___esh8",selected:"PackageTree_selected__H_AKG",componentList:"PackageTree_componentList__dDioC",componentLink:"PackageTree_componentLink__N9Dmt",componentName:"PackageTree_componentName__3CMdU"}},75530:()=>{},81561:e=>{e.exports={tags:"ComponentTags_tags__h3vCZ",tag:"ComponentTags_tag__YugkU",authorTag:"ComponentTags_authorTag__xtZui"}},85157:e=>{e.exports={outer:"ComponentPageContents_outer___lMOD",container:"ComponentPageContents_container__XWpLQ",main:"ComponentPageContents_main__w_slE",tableOfContents:"ComponentPageContents_tableOfContents__o3F1t"}},92985:e=>{e.exports={tag:"TypeTag_tag__VlKpL",objectType:"TypeTag_objectType__dR7sE"}},94214:e=>{e.exports={container:"PackagePageDetails_container__SRrkU"}},94462:(e,n,t)=>{"use strict";t.d(n,{OG:()=>N,bA:()=>b,i:()=>C,le:()=>S});var r=t(6029),i=t(67221),o=t(27589),s=t(75672),a=t(38954),l=t(69807),c=t(36660),d=t(24372),p=t(30424),u=t(85184),h=t(9448),m=t(42572),x=t(55729),j=t(41735),g=t(10513),f=t(58),y=t(53402),v=t(44403);let S=e=>{let{metadata:n}=e,t=(0,f.C)(),[l,c]=(0,x.useState)(!1),d=n.find(e=>{let{key:n}=e;return"image"===n}),p=(null==d?void 0:d.value)||"",u=(0,x.useCallback)(async()=>{t(p),c(!0);let e=setTimeout(()=>{c(!1)},3e3);return()=>clearTimeout(e)},[t,p]);return d?(0,r.jsxs)(_,{children:[(0,r.jsx)("span",{style:{fontWeight:500},children:"image: "}),(0,r.jsx)("span",{style:{marginRight:"4px"},children:(0,r.jsx)(i.MC,{children:d.value})}),(0,r.jsx)(o.m,{content:l?"Copied!":"Click to copy image string",placement:"top",children:(0,r.jsx)(s.N,{onClick:u,children:(0,r.jsx)(a.In,{name:l?"done":"copy",size:12})})})]}):null},_=(0,j.Ay)(l.a).withConfig({componentId:"sc-c526e93-0"})(["width:100%;color:",";font-size:12px;.bp5-popover-target{display:inline;overflow:hidden;position:relative;top:1px;}"],c.XN()),b=e=>{let{metadata:n}=e,t=n.find(e=>{let{key:n}=e;return"module_name"===n||"package_name"===n||"python_file"===n||"autoload_defs_module_name"===n});return t?(0,r.jsxs)(l.a,{flex:{direction:"row",gap:4},style:{width:"100%",color:c.XN(),fontSize:12},children:[(0,r.jsxs)("span",{style:{fontWeight:500},children:[t.key,":"]}),(0,r.jsx)("div",{style:k,children:(0,r.jsx)(d.A,{text:t.value})})]}):null},C=e=>{var n;let{locationStatus:t,locationOrError:i}=e,[o,s]=(0,x.useState)(!1),a=(0,x.useMemo)(()=>(0,v.y3)((null==t?void 0:t.name)||""),[null==t?void 0:t.name]),{reloading:c,tryReload:d}=(0,v.MQ)({scope:"location",reloadFn:a});return(null==t?void 0:t.loadStatus)==="LOADING"?(0,r.jsx)(p.v,{minimal:!0,intent:"primary",children:"Updating…"}):(null==i?void 0:i.versionKey)!==(null==t?void 0:t.versionKey)?(0,r.jsx)(p.v,{minimal:!0,intent:"primary",children:"Loading…"}):t&&(null==i||null==(n=i.locationOrLoadError)?void 0:n.__typename)==="PythonError"?(0,r.jsxs)(r.Fragment,{children:[(0,r.jsxs)(l.a,{flex:{alignItems:"center",gap:12},children:[(0,r.jsx)(p.v,{minimal:!0,intent:"danger",children:"Failed"}),(0,r.jsx)(u.v,{onClick:()=>s(!0),children:(0,r.jsx)("span",{style:{fontSize:"12px"},children:"View error"})})]}),(0,r.jsx)(g.G,{location:t.name,isOpen:o,error:i.locationOrLoadError,reloading:c,onDismiss:()=>s(!1),onTryReload:()=>d()})]}):(0,r.jsx)(p.v,{minimal:!0,intent:"success",children:"Loaded"})},N=e=>{let{location:n}=e;return(0,r.jsx)(y.R,{location:n,ChildComponent:e=>{let{reloading:n,tryReload:t,hasReloadPermission:i}=e;return(0,r.jsx)(l.a,{flex:{direction:"row",alignItems:"center",gap:4},children:(0,r.jsx)(o.m,{content:i?"":y.M,canShow:!i,useDisabledButtonTooltipFix:!0,children:(0,r.jsx)(h.$n,{icon:(0,r.jsx)(a.In,{name:"code_location_reload"}),disabled:!i,loading:n,onClick:()=>t(),children:"Reload"})})})}})},k={width:"100%",display:"block",fontFamily:m.a.monospace,fontSize:"12px",color:c.XN()}},96567:e=>{e.exports={schemaContainer:"ComponentSchema_schemaContainer__6rYYb",schemaTitle:"ComponentSchema_schemaTitle__hWZJk",propertyContainer:"ComponentSchema_propertyContainer__Vntq5",chevronContainer:"ComponentSchema_chevronContainer__MvSIz",expandButton:"ComponentSchema_expandButton__aWQDj",expanded:"ComponentSchema_expanded__b68L0",chevron:"ComponentSchema_chevron__xbSbs",expansionContainer:"ComponentSchema_expansionContainer__VdcFC",property:"ComponentSchema_property__N6_2_",propertyNameAndTypes:"ComponentSchema_propertyNameAndTypes__dkdx6",propertyName:"ComponentSchema_propertyName__GOlu_",propertyDescriptionContainer:"ComponentSchema_propertyDescriptionContainer__meGAo",propertyDescription:"ComponentSchema_propertyDescription__pS8uc",propertyDefault:"ComponentSchema_propertyDefault__U6kfs",propertyDefaultValue:"ComponentSchema_propertyDefaultValue__oDIwt",propertyExamples:"ComponentSchema_propertyExamples__GotnC",propertyExamplesValue:"ComponentSchema_propertyExamplesValue__fxM9x",required:"ComponentSchema_required__6RnJN",anyOf:"ComponentSchema_anyOf__B_RPR",anyOfLabel:"ComponentSchema_anyOfLabel__QAYwb",expansion:"ComponentSchema_expansion__pGyym"}},97311:e=>{e.exports={button:"CopyButton_button__FudcB"}}}]);
//# sourceMappingURL=767.526fadb1edd38f2e.js.map